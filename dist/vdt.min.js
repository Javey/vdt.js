(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t():typeof define==="function"&&define.amd?define(t):e.Vdt=t()})(this,function(){"use strict";var e={};var t=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=Object.prototype.toString;var r=typeof document==="undefined"?e:document;var n=Array.isArray||function(e){return i.call(e)==="[object Array]"};function s(e){return(typeof e==="undefined"?"undefined":t(e))==="object"&&e!==null}function a(e){var i=typeof e==="undefined"?"undefined":t(e);return i==="string"||i==="number"}function u(e){return e===null||e===undefined}function o(e){return e&&typeof e.init==="function"}function l(e){return e.substr(0,3)==="ev-"}var f=function(){if(Array.prototype.indexOf){return function(e,t){return e.indexOf(t)}}else{return function(e,t){for(var i=0;i<e.length;i++){if(e[i]===t){return i}}return-1}}}();var c=Object.create;var h=function(){if(c){return function(e){return c(e)}}else{return function(e){function t(){}t.prototype=e;return new t}}}();var v=typeof Map==="function"?Map:function(){function e(){this._keys=[];this._values=[];this.size=0}e.prototype.set=function(e,t){var i=f(this._keys,e);if(!~i){i=this._keys.push(e)-1;this.size++}this._values[i]=t;return this};e.prototype.get=function(e){var t=f(this._keys,e);if(!~t)return;return this._values[t]};e.prototype.delete=function(e){var t=f(this._keys,e);if(!~t)return false;this._keys.splice(t,1);this._values.splice(t,1);this.size--;return true};return e}();var d={key:true,ref:true,children:true,className:true};var p={muted:true,scoped:true,loop:true,open:true,checked:true,default:true,capture:true,disabled:true,readOnly:true,required:true,autoplay:true,controls:true,seamless:true,reversed:true,allowfullscreen:true,novalidate:true,hidden:true,autoFocus:true,selected:true};var _={volume:true,defaultChecked:true};function m(){this.queue=[]}m.prototype.push=function(e){this.queue.push(e)};m.prototype.trigger=function(){var e=this.queue;var t=void 0;while(t=e.shift()){t()}};var y={};if(typeof navigator!=="undefined"){var b=navigator.userAgent;var S=b.indexOf("MSIE ");if(~S){y.isIE=true;var g=parseInt(b.substring(S+5,b.indexOf(".",S)),10);y.version=g;y.isIE8=g===8}}var x=y.isIE8?function(e,t){e.innerText=t}:function(e,t){e.textContent=t};var k=0;var J={JS:k++,JSXText:k++,JSXElement:k++,JSXExpressionContainer:k++,JSXAttribute:k++,JSXEmptyExpression:k++,JSXWidget:k++,JSXVdt:k++,JSXBlock:k++,JSXComment:k++,JSXDirective:k++};var X=[];for(var C in J){X[J[C]]=C}var E={area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,menuitem:true,meta:true,param:true,source:true,track:true,wbr:true};var w={style:true,script:true,textarea:true};var A={"v-if":true,"v-else-if":true,"v-else":true,"v-for":true,"v-for-value":true,"v-for-key":true};var T={autoReturn:true,onlySource:false,delimiters:["{","}"],noWith:false,server:false,skipWhitespace:false};var N=Object.prototype.hasOwnProperty;var I=function e(){};function j(e){if(isNullOrUndefined(e))return false;var t=e.length;return typeof t==="number"&&t>-1&&t%1===0&&t<=9007199254740991&&typeof e!=="function"}function V(e,t,i){if(j(e)){for(var r=0,n=e.length;r<n;r++){t.call(i,e[r],r,e)}}else if(O(e)){for(var s in e){if(N.call(e,s)){t.call(i,e[s],s,e)}}}}function O(e){var i=typeof e==="undefined"?"undefined":t(e);return i==="function"||i==="object"&&!!e}function L(e,t,i){var r=[];V(e,function(e,n,s){r.push(t.call(i,e,n,s))});return r}function D(e){if(isNullOrUndefined(e))return;if(typeof e==="string")return e;var t=[];for(var i in e){if(N.call(e,i)&&e[i]){t.push(i)}}return t.join(" ")}function W(e){return e<=160&&e>=9&&e<=13||e==32||e==160||e==5760||e==6158||e>=8192&&(e<=8202||e==8232||e==8233||e==8239||e==8287||e==12288||e==65279)}function B(e){var t=e.length;while(t--&&Utils.isWhiteSpace(e.charCodeAt(t))){}return e.slice(0,t+1)}function F(e){var t=e.length,i=-1;while(i++<t&&Utils.isWhiteSpace(e.charCodeAt(i))){}return e.slice(i)}function H(e){if(isArray(e)){throw new Error('The parameter must be an array like ["{{", "}}"]')}T.delimiters=e}function q(){return T.delimiters}function z(e){if(e!==undefined){R(T,e)}return T}function U(e){return E[e]}function M(e){return w[e]}function P(e){return N.call(A,e)}function R(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++){t[i]=arguments[i]}var r=t[0];var n=t.length;if(n>1){for(var s=1;s<n;s++){var a=t[s];if(a){for(var u in a){if(N.call(a,u)){r[u]=a[u]}}}}}return r}var Y=Y("./compile");var K=function(){var e=typeof console!=="undefined";return e?function(e){console.error(e)}:I}();var $=(Object.freeze||Object)({Type:J,TypeName:X,SelfClosingTags:E,TextTags:w,Directives:A,hasOwn:N,noop:I,each:V,isObject:O,map:L,className:D,isWhiteSpace:W,trimRight:B,trimLeft:F,setDelimiters:H,getDelimiters:q,configure:z,isSelfClosingTag:U,isTextTag:M,isDirective:P,extend:R,require:Y,error:K,isNullOrUndefined:u,isArray:n});var Z=J;var G=X;var Q=/^<\w+:?\s*[\w\/>]/;function ee(e){return e===58||e===95||e===45||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57}function te(){this.source="";this.index=0;this.length=0}te.prototype={constructor:te,parse:function e(t,i){this.source=B(t);this.index=0;this.line=1;this.column=1;this.length=this.source.length;this.options=R({},z(),i);return this._parseTemplate()},_parseTemplate:function e(){var t=[],i={count:0};while(this.index<this.length&&i.count>=0){t.push(this._advance(i))}return t},_advance:function e(t){var i=this._char();if(i!=="<"){return this._scanJS(t)}else{return this._scanJSX()}},_scanJS:function e(t){var i=this.index,r=this.options.delimiters;while(this.index<this.length){var n=this._char();if(n==="'"||n==='"'){this._scanStringLiteral()}else if(this._isElementStart()){break}else{if(n==="{"){t.count++}else if(t.count>0&&n==="}"){t.count--}else if(this._isExpect(r[1])){t.count--;break}else if(n==="\n"){this._updateLine()}this._updateIndex()}}return this._type(Z.JS,{value:this.source.slice(i,this.index)})},_scanStringLiteral:function e(){var t=this._char(),i=this.index,r="";this._updateIndex();while(this.index<this.length){var n=this._char();if(n.charCodeAt(0)===10){this._updateLine()}this._updateIndex();if(n===t){t="";break}else if(n==="\\"){r+=this._char(this._updateIndex())}else{r+=n}}if(t!==""){this._error("Unclosed quote")}return this._type(Z.StringLiteral,{value:this.source.slice(i,this.index)})},_scanJSX:function e(){return this._parseJSXElement()},_scanJSXText:function e(t){var i=this.index,r=t.length,n,s,a=false;e:while(this.index<this.length){s=this._charCode();if(W(s)){if(s===10){this._updateLine()}if(this.options.skipWhitespace&&!a){i++}}else{a=true;for(n=0;n<r;n++){if(typeof t[n]==="function"&&t[n].call(this)||this._isExpect(t[n])){break e}}}this._updateIndex()}return i===this.index?null:this._type(Z.JSXText,{value:this.source.slice(i,this.index)})},_scanJSXStringLiteral:function e(){var t=this._char();if(t!=="'"&&t!=='"'){this._error("String literal must starts with a qoute")}this._updateIndex();var i=this._scanJSXText([t]);this._updateIndex();return i},_parseJSXElement:function e(){this._expect("<");var t=this.index,i={},r=this._charCode();if(r>=65&&r<=90){this._type(Z.JSXWidget,i)}else if(this._isExpect("!--")){return this._parseJSXComment()}else if(this._charCode(this.index+1)===58){t+=2;switch(r){case 116:this._type(Z.JSXVdt,i);break;case 98:this._type(Z.JSXBlock,i);break;default:this._error("Unknown directive "+String.fromCharCode(r)+":")}this._updateIndex(2)}else{this._type(Z.JSXElement,i)}while(this.index<this.length){if(!ee(this._charCode())){break}this._updateIndex()}i.value=this.source.slice(t,this.index);return this._parseAttributeAndChildren(i)},_parseAttributeAndChildren:function e(t){var i=this._parseJSXAttribute();R(t,{attributes:i.attributes,directives:i.directives,children:[]});if(!t.directives.length)delete t.directives;if(t.type===Z.JSXElement&&U(t.value)){if(this._char()==="/"){this._updateIndex()}this._expect(">")}else if(this._char()==="/"){this._updateIndex();this._expect(">")}else{this._expect(">");t.children=this._parseJSXChildren(t)}return t},_parseJSXAttribute:function e(){var t={attributes:[],directives:[]};while(this.index<this.length){this._skipWhitespace();if(this._char()==="/"||this._char()===">"){break}else{var i=this._parseJSXAttributeName();if(this._char()==="="){this._updateIndex();i.value=this._parseJSXAttributeValue()}t[i.type===Z.JSXAttribute?"attributes":"directives"].push(i)}}return t},_parseJSXAttributeName:function e(){var t=this.index;if(!ee(this._charCode())){this._error("Unexpected identifier "+this._char())}while(this.index<this.length){var i=this._charCode();if(!ee(i)){break}this._updateIndex()}var r=this.source.slice(t,this.index);if(P(r)){return this._type(Z.JSXDirective,{name:r})}return this._type(Z.JSXAttribute,{name:r})},_parseJSXAttributeValue:function e(){var t,i=this.options.delimiters;if(this._isExpect(i[0])){t=this._parseJSXExpressionContainer()}else{t=this._scanJSXStringLiteral()}return t},_parseJSXExpressionContainer:function e(){var t,i=this.options.delimiters;this._expect(i[0]);if(this._isExpect(i[1])){t=this._parseJSXEmptyExpression()}else{t=this._parseExpression()}this._expect(i[1]);return this._type(Z.JSXExpressionContainer,{value:t})},_parseJSXEmptyExpression:function e(){return this._type(Z.JSXEmptyExpression,{value:null})},_parseExpression:function e(){return this._parseTemplate()},_parseJSXChildren:function e(t){var i=[],r=t.value+">",n=null;switch(t.type){case Z.JSXBlock:r="</b:"+r;break;case Z.JSXVdt:r="</t:"+r;break;case Z.JSXElement:default:r="</"+r;break}while(this.index<this.length){if(this._isExpect(r)){break}n=this._parseJSXChild(t,r,n);if(n){i.push(n)}}this._parseJSXClosingElement();return i},_parseJSXChild:function e(t,i,r){var n,s=this.options.delimiters;if(this._isExpect(s[0])){n=this._parseJSXExpressionContainer()}else if(M(t.value)){n=this._scanJSXText([i,s[0]])}else if(this._isElementStart()){n=this._parseJSXElement()}else{n=this._scanJSXText([function(){return this._isExpect(i)||this._isElementStart()},s[0]])}if(n){n.prev=undefined;n.next=undefined;if(r){r.next=n;n.prev=r}}return n},_parseJSXClosingElement:function e(){this._expect("</");while(this.index<this.length){if(!ee(this._charCode())){break}this._updateIndex()}this._skipWhitespace();this._expect(">")},_parseJSXComment:function e(){this._expect("!--");var t=this.index;while(this.index<this.length){if(this._isExpect("--\x3e")){break}else if(this._charCode()===10){this._updateLine()}this._updateIndex()}var i=this._type(Z.JSXComment,{value:this.source.slice(t,this.index)});this._expect("--\x3e");return i},_char:function e(t){arguments.length===0&&(t=this.index);return this.source.charAt(t)},_charCode:function e(t){arguments.length===0&&(t=this.index);return this.source.charCodeAt(t)},_skipWhitespace:function e(){while(this.index<this.length){var t=this._charCode();if(!W(t)){break}else if(t===10){this._updateLine()}this._updateIndex()}},_expect:function e(t){if(!this._isExpect(t)){this._error("expect string "+t)}this._updateIndex(t.length)},_isExpect:function e(t){return this.source.slice(this.index,this.index+t.length)===t},_isElementStart:function e(){return this._char()==="<"&&(this._isExpect("\x3c!--")||Q.test(this.source.slice(this.index)))},_type:function e(t,i){i||(i={});i.type=t;i.typeName=G[t];i.line=this.line;i.column=this.column;return i},_updateLine:function e(){this.line++;this.column=0},_updateIndex:function e(t){t===undefined&&(t=1);var i=this.index;this.index=this.index+t;this.column=this.column+t;return i},_error:function e(t){throw new Error(t+" At: {line: "+this.line+", column: "+this.column+'} Near: "'+this.source.slice(this.index-10,this.index+20)+'"')}};var ie=J;var re=X;var ne=function(){var e={class:"className",for:"htmlFor"};return function(t){return e[t]||t}}();var se=function e(t){var i=t.length-1;for(var r=i;r>=0;r--){if(t[r]!=="null"){break}}return(r===i?t:t.slice(0,r+1)).join(", ")};function ae(){}ae.prototype={constructor:ae,stringify:function e(t,i){if(arguments.length===1){i=true}this.autoReturn=!!i;this.enterStringExpression=false;return this._visitJSXExpressionContainer(t,true)},_visitJSXExpressionContainer:function e(t,i){var r="",n=t.length;V(t,function(e,t){if(this.autoReturn&&i&&t===n-1){r+="return "+this._visit(e,i)}else{r+=this._visit(e,i)}},this);if(!i&&!this.enterStringExpression){r="function() {try {return ["+r+"][0]} catch(e) {_e(e)}}.call(this)"}return r},_visit:function e(t,i){t=t||{};switch(t.type){case ie.JS:return this._visitJS(t,i);case ie.JSXElement:return this._visitJSX(t);case ie.JSXText:return this._visitJSXText(t);case ie.JSXExpressionContainer:return this._visitJSXExpressionContainer(t.value);case ie.JSXWidget:return this._visitJSXWidget(t);case ie.JSXBlock:return this._visitJSXBlock(t);case ie.JSXVdt:return this._visitJSXVdt(t,i);case ie.JSXComment:return this._visitJSXComment(t);default:return"null"}},_visitJS:function e(t){return this.enterStringExpression?"("+t.value+")":t.value},_visitJSX:function e(t){if(t.value==="script"||t.value==="style"){if(t.children.length){t.attributes.push({type:ie.JSXAttribute,typeName:re[ie.JSXAttribute],name:"innerHTML",value:{type:ie.JS,typeName:re[ie.JS],value:this._visitJSXChildrenAsString(t.children)}});t.children=[]}}return this._visitJSXDirective(t,this._visitJSXElement(t))},_visitJSXElement:function e(t){var i=this._visitJSXAttribute(t.attributes,true,true);return"h("+se(["'"+t.value+"'",i.props,this._visitJSXChildren(t.children),i.className,i.key,i.ref])+")"},_visitJSXChildren:function e(t){var i=[];V(t,function(e){if(e._skip)return;i.push(this._visit(e))},this);return i.length>1?"["+i.join(", ")+"]":i[0]||"null"},_visitJSXDirective:function e(t,i){var r={data:null,value:"value",key:"key"};V(t.directives,function(e){switch(e.name){case"v-if":i=this._visitJSXDirectiveIf(e,i,t);break;case"v-else-if":case"v-else":if(t._skip)break;throw new Error(e.name+" must be led with v-if. At: {line: "+t.line+", column: "+t.column+"}");case"v-for":r.data=this._visitJSXAttributeValue(e.value);break;case"v-for-value":r.value=this._visitJSXText(e.value,true);break;case"v-for-key":r.key=this._visitJSXText(e.value,true);break;default:break}},this);if(r.data){i=this._visitJSXDirectiveFor(r,i)}return i},_visitJSXDirectiveIf:function e(t,i,r){var n=this._visitJSXAttributeValue(t.value)+" ? "+i+" : ",s=false,a=r,u=[],o=function e(){V(u,function(e){e._skip=true});u=[]};while(a=a.next){if(a.type===J.JSXText){if(!/^\s*$/.test(a.value))break;else u.push(a)}else if(a.type===J.JSXElement||a.type===J.JSXWidget){if(!a.directives||!a.directives.length)break;var l=false;for(var f=0,c=a.directives.length;f<c;f++){var h=a.directives[f],v=h.name;if(v==="v-else-if"){a._skip=true;n+=this._visitJSXAttributeValue(h.value)+" ? "+this._visit(a)+" : ";l=true;o();break}else if(v==="v-else"){a._skip=true;n+=this._visit(a);s=true;o();break}}if(!l)break}}if(!s)n+="undefined";return n},_visitJSXDirectiveFor:function e(t,i){return"_Vdt.utils.map("+t.data+", function("+t.value+", "+t.key+") {\n"+"return "+i+";\n"+"}, this)"},_visitJSXChildrenAsString:function e(t){var i=[];this.enterStringExpression=true;V(t,function(e){i.push(this._visit(e))},this);this.enterStringExpression=false;return i.join("+")},_visitJSXAttribute:function e(t,i,r){var n=[],s,a,u;V(t,function(e){var t=ne(e.name),o=this._visitJSXAttributeValue(e.value);if(t==="widget"&&e.value.type===ie.JSXText){u="function(i) {widgets["+o+"] = i}";return}else if(t==="className"){if(e.value.type===ie.JSXExpressionContainer){o="_Vdt.utils.className("+o+")"}if(i){s=o;return}}else if(t==="key"&&r){a=o;return}else if(t==="ref"&&r){u=o;return}n.push("'"+t+"': "+o)},this);return{props:n.length?"{"+n.join(", ")+"}":"null",className:s||"null",ref:u||"null",key:a||"null"}},_visitJSXAttributeValue:function e(t){return n(t)?this._visitJSXChildren(t):this._visit(t)},_visitJSXText:function e(t,i){var r=t.value.replace(/([\'\"\\])/g,"\\$1").replace(/[\r\n]/g,"\\n");if(!i){r="'"+r+"'"}return r},_visitJSXWidget:function e(t){if(t.children.length){t.attributes.push({name:"children",value:t.children})}var i=this._visitJSXAttribute(t.attributes,false,true);return this._visitJSXDirective(t,"h("+se([t.value,i.props,"null","null",i.key,i.ref])+")")},_visitJSXBlock:function e(t,i){arguments.length===1&&(i=true);return"(_blocks."+t.value+" = function(parent) {return "+this._visitJSXChildren(t.children)+";}) && (__blocks."+t.value+" = function(parent) {\n"+"var self = this;\n"+"return blocks."+t.value+" ? blocks."+t.value+".call(this, function() {\n"+"return _blocks."+t.value+".call(self, parent);\n"+"}) : _blocks."+t.value+".call(this, parent);\n"+"})"+(i?" && __blocks."+t.value+".call(this)":"")},_visitJSXVdt:function e(t,i){var r=["(function(blocks) {","var _blocks = {}, __blocks = extend({}, blocks), _obj = "+this._visitJSXAttribute(t.attributes,false,false).props+" || {};",'if (_obj.hasOwnProperty("arguments")) { extend(_obj, _obj.arguments === null ? obj : _obj.arguments); delete _obj.arguments; }',"return "+t.value+".call(this, _obj, _Vdt, "].join("\n"),n=[];V(t.children,function(e){if(e.type===ie.JSXBlock){n.push(this._visitJSXBlock(e,false))}},this);r+=(n.length?n.join(" && ")+" && __blocks)":"__blocks)")+"}).call(this, "+(i?"blocks)":"{})");return r},_visitJSXComment:function e(t){return"hc("+this._visitJSXText(t)+")"}};var ue={Text:1,HtmlElement:1<<1,ComponentClass:1<<2,ComponentFunction:1<<3,ComponentInstance:1<<4,HtmlComment:1<<5};ue.Element=ue.HtmlElement;ue.ComponentClassOrInstance=ue.ComponentClass|ue.ComponentInstance;ue.TextElement=ue.Text|ue.HtmlComment;var oe={};if("production"!=="production"&&!y.isIE){Object.freeze(oe)}function le(e,t,i,r,n,s,a){this.type=e;this.tag=t;this.props=i;this.children=r;this.key=s;this.ref=a;this.className=n}function fe(e,i,r,n,s,a){var u=void 0;i||(i=oe);switch(typeof e==="undefined"?"undefined":t(e)){case"string":u=ue.HtmlElement;break;case"function":if(e.prototype.init){u=ue.ComponentClass}else{u=ue.ComponentFunction}break;default:throw new Error("unknown vNode type: "+e)}if(i.children){i.children=de(i.children)}return new le(u,e,i,de(r),n||i.className,s||i.key,a||i.ref)}function ce(e){return new le(ue.HtmlComment,null,oe,e)}function he(e){return new le(ue.Text,null,oe,e)}function ve(e){var t=e.props||oe;return new le(ue.ComponentInstance,e.constructor,t,e,null,t.key,t.ref)}function de(e){if(n(e)){var t=_e(e,{index:0});return t.length?t:null}else if(o(e)){return ve(e)}return e}function pe(e,t){if(u(e.key)){e.key=".$"+t.index++}return e}function _e(e,t){var i=void 0;for(var r=0;r<e.length;r++){var s=e[r];if(u(s)){if(!i){i=e.slice(0,r)}}else if(n(s)){if(!i){i=e.slice(0,r)}i=i.concat(_e(s,t))}else if(a(s)){if(!i){i=e.slice(0,r)}i.push(pe(he(s),t))}else if(o(s)){if(!i){i=e.slice(0,r)}i.push(pe(ve(s)),t)}else if(s.type){if(!i){i=e.slice(0,r)}i.push(pe(s,t))}}return i||e}var me=["altKey","bubbles","cancelable","ctrlKey","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","type","view","which"];var ye=["char","charCode","key","keyCode"];var be=["button","buttons","clientX","clientY","layerX","layerY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement"];var Se=/^key|input/;var ge=/^(?:mouse|pointer|contextmenu)|click/;function xe(e){for(var t=0;t<me.length;t++){var i=me[t];this[i]=e[i]}if(!e.target){this.target=e.srcElement}this._rawEvent=e}xe.prototype.preventDefault=function(){var e=this._rawEvent;if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}};xe.prototype.stopPropagation=function(){var e=this._rawEvent;e.cancelBubble=true;e.stopImmediatePropagation&&e.stopImmediatePropagation()};function ke(e){xe.call(this,e);for(var t=0;t<be.length;t++){var i=be[t];this[i]=e[i]}}ke.prototype=h(xe.prototype);ke.prototype.constructor=ke;function Je(e){xe.call(this,e);for(var t=0;t<ye.length;t++){var i=ye[t];this[i]=e[i]}}Je.prototype=h(xe.prototype);Je.prototype.constructor=Je;function Xe(e){if(Se.test(e.type)){return new Je(e)}else if(ge.test(e.type)){return new ke(e)}else{return new xe(e)}}var Ce=void 0;var Ee=void 0;if("addEventListener"in r){Ce=function e(t,i){r.addEventListener(t,i,false)};Ee=function e(t,i){r.removeEventListener(t,i)}}else{Ce=function e(t,i){r.attachEvent("on"+t,i)};Ee=function e(t,i){r.detachEvent("on"+t,i)}}var we={};function Ae(e,t,i,r){var n=we[e];if(i){if(!n){n={items:new v,docEvent:null};n.docEvent=Ne(e,n);we[e]=n}n.items.set(r,i)}else if(n){var s=n.items;if(s.delete(r)){if(s.size===0){Ee(e,n.docEvent);delete n[e]}}}}function Te(e,t,i,r,n){var s=i.get(t);if(s){r--;e.currentTarget=t;s(e);if(e._rawEvent.cancelBubble){return}}if(r>0){var a=t.parentNode;if(u(a)||n&&a.nodeType===1&&a.disabled){return}Te(e,a,i,r,n)}}function Ne(e,t){var i=function e(i){var r=t.items.size;i||(i=window.event);if(r>0){i=Xe(i);Te(i,i.target,t.items,r,i.type==="click")}};Ce(e,i);return i}function Ie(e,t){if(u(e))return;var i=new m;var r=je(e,t,i);i.trigger();return r}function je(e,t,i){var r=e.type;if(r&ue.HtmlElement){return Ve(e,t,i)}else if(r&ue.Text){return Oe(e,t)}else if(r&ue.ComponentClassOrInstance){return Le(e,t,i)}else if(r&ue.ComponentFunction){return De(e,t,i)}else if(r&ue.HtmlComment){return We(e,t)}else{throw new Error("unknown vnode type "+r)}}function Ve(e,t,i){var n=r.createElement(e.tag);var s=e.children;var a=e.ref;var o=e.props;var l=e.className;e.dom=n;if(!u(s)){Fe(s,n,i)}if(!u(l)){n.className=l}if(o!==oe){for(var f in o){lt(f,null,o[f],n)}}if(!u(a)){Ke(n,a,i)}if(t){t.appendChild(n)}return n}function Oe(e,t){var i=r.createTextNode(e.children);e.dom=i;if(t){t.appendChild(i)}return i}function Le(e,t,i,r){var n=e.props;var s=e.type&ue.ComponentClass?new e.tag(n):e.children;var a=s.init(r,e);var u=e.ref;e.dom=a;e.children=s;if(t){t.appendChild(a)}if(typeof s.mount==="function"){i.push(function(){return s.mount(r,e)})}if(typeof u==="function"){u(s)}return a}function De(e,t,i){var r=e.props;var n=e.ref;Be(e);var s=je(e.children,null,i);e.dom=s;if(t){t.appendChild(s)}if(n){Ke(s,n,i)}return s}function We(e,t){var i=r.createComment(e.children);e.dom=i;if(t){t.appendChild(i)}return i}function Be(e){var t=e.tag(e.props);if(n(t)){throw new Error("ComponentFunction "+e.tag.name+" returned a invalid vNode")}else if(a(t)){t=he(t)}e.children=t;return e}function Fe(e,t,i){if(a(e)){x(t,e)}else if(n(e)){for(var r=0;r<e.length;r++){je(e[r],t,i)}}else{je(e,t,i)}}function He(e,t){if(u(e)){return}else if(n(e)){for(var i=0;i<e.length;i++){qe(e[i],t)}}else{qe(e,t)}}function qe(e,t){var i=e.type;if(i&ue.Element){return ze(e,t)}else if(i&ue.TextElement){return Ue(e,t)}else if(i&ue.ComponentClassOrInstance){return Pe(e,t)}else if(i&ue.ComponentFunction){return Me(e,t)}}function ze(e,t){var i=e.ref;var r=e.props;var n=e.dom;if(i){i(null)}He(e.children,null);for(var s in r){var a=r[s];if(!u(a)&&l(s)){Ae(s.substr(0,3),a,null,n)}}if(t){t.removeChild(n)}}function Ue(e,t){if(t){t.removeChild(e.dom)}}function Me(e,t){var i=e.ref;if(i){i(null)}qe(e.children,t)}function Pe(e,t,i){var r=e.children;var n=e.ref;if(typeof r.destroy==="function"){r.destroy(e,i)}if(n){n(null)}He(e.props.children,null);if(t){t.removeChild(e.dom)}}function Re(e,t){x(e,"");He(t)}function Ye(e,t,i){if(!e)e=i.parentNode;e.replaceChild(t,i)}function Ke(e,t,i){if(typeof t==="function"){i.push(function(){return t(e)})}else{throw new Error('ref must be a function, but got "'+JSON.stringify(t)+'"')}}function $e(e,t,i){var r=new m;var n=Ze(e,t,i,r);r.trigger();return n}function Ze(e,t,i,r){if(e!==t){var n=t.type;var s=e.type;if(n&ue.Element){if(s&ue.Element){Ge(e,t,i,r)}else{at(e,t,i,r)}}else if(n&ue.TextElement){if(s&ue.TextElement){ut(e,t)}else{at(e,t,i,r)}}else if(n&ue.ComponentClass){if(s&ue.ComponentClass){Qe(e,t,i,r)}else{at(e,t,i,r)}}else if(n&ue.ComponentFunction){if(s&ue.ComponentFunction){tt(e,t,i,r)}else{at(e,t,i,r)}}else if(n&ue.ComponentInstance){if(s&ue.ComponentInstance){et(e,t,i,r)}else{at(e,t,i,r)}}}return t.dom}function Ge(e,t,i,r){var n=e.dom;var s=e.props;var a=t.props;var o=e.children;var l=t.children;var f=t.ref;var c=e.className;var h=t.className;t.dom=n;if(e.tag!==t.tag){at(e,t,i,r)}else{if(o!==l){it(o,l,n,r)}if(s!==a){ot(e,t)}if(c!==h){if(u(h)){n.removeAttribute("class")}else{n.className=h}}if(!u(f)&&e.ref!==f){Ke(n,f,r)}}}function Qe(e,t,i,r){var n=e.tag;var s=t.tag;var a=e.dom;var u=void 0;var o=void 0;if(n!==s||e.key!==t.key){Pe(e,null,t);o=Le(t,null,r,e)}else{u=e.children;o=u.update(e,t);t.dom=o;t.children=u}if(a!==o){Ye(i,o,a)}}function et(e,t,i,r){var n=e.children;var s=t.children;var a=e.dom;var u=void 0;if(n!==s){Pe(e,null,t);u=Le(t,null,r,e)}else{u=n.update(e,t);t.dom=u}if(a!==u){Ye(i,u,a)}}function tt(e,t,i,r){var n=e.tag;var s=t.tag;if(e.key!==t.key){qe(e.children,i);De(t,i,r)}else{t.dom=e.dom;Be(t);Ze(e.children,t.children,i,r)}}function it(e,t,i,r){if(u(e)){if(!u(t)){Fe(t,i,r)}}else if(u(t)){He(e,i)}else if(a(t)){if(a(e)){i.firstChild.nodeValue=t}else{He(e,i);x(i,t)}}else if(n(e)){if(n(t)){rt(e,t,i,r)}else{He(e,i);je(t,i,r)}}else if(n(t)){qe(e,i);Fe(t,i,r)}else if(a(e)){x(i,"");je(t,i)}else{Ze(e,t,i,r)}}function rt(e,t,i,r){var n=e.length;var s=t.length;var a=n-1;var u=s-1;var o=0;var l=0;var f=void 0;var c=void 0;var h=void 0;var v=void 0;var d=void 0;var p=void 0;var _=void 0;var m=e[o];var y=t[l];var b=e[a];var S=t[u];e:while(true){while(m.key===y.key){Ze(m,y,i,r);++o;++l;if(o>a||l>u){break e}m=e[o];y=t[l]}while(b.key===S.key){Ze(b,S,i,r);--a;--u;if(a<o||u<l){break e}b=e[a];S=t[u]}if(b.key===y.key){Ze(b,y,i,r);i.insertBefore(y.dom,m.dom);--a;++l;b=e[a];y=t[l];continue}if(m.key===S.key){Ze(m,S,i,r);st(u,s,S.dom,t,i);++o;--u;m=e[o];S=t[u];continue}break}if(o>a){while(l<=u){st(u,s,je(t[l],null,r),t,i);++l}}else if(l>u){while(o<=a){qe(e[o],i);++o}}else{n=a-o+1;s=u-l+1;var g=new Array(s);for(f=0;f<s;f++){g[f]=-1}var x=false;var k=0;var J=0;if(s<=4||n*s<=16){for(f=o;f<=a;f++){h=e[f];if(J<s){for(c=l;c<=u;c++){v=t[c];if(h.key===v.key){g[c-l]=f;if(k>c){x=true}else{k=c}Ze(h,v,i,r);++J;e[f]=null;break}}}}}else{var X={};for(f=l;f<=u;f++){X[t[f].key]=f}for(f=o;f<=a;f++){h=e[f];if(J<s){c=X[h.key];if(c!==undefined){v=t[c];g[c-l]=f;if(k>c){x=true}else{k=c}Ze(h,v,i,r);++J;e[f]=null}}}}if(n===e.length&&J===0){Re(i,e);while(l<s){je(t[l],i,r);++l}}else{if(x){var C=nt(g);c=C.length-1;for(f=s-1;f>=0;f--){if(g[f]===-1){k=f+l;st(k,t.length,je(t[k],null,r),t,i)}else{if(c<0||f!==C[c]){k=f+l;st(k,t.length,t[k].dom,t,i)}else{--c}}}}else if(J!==s){for(f=s-1;f>=0;f--){if(g[f]===-1){k=f+l;st(k,t.length,je(t[k],null,r),t,i)}}}f=n-J;while(f>0){h=e[o++];if(h!==null){qe(h,i);--f}}}}}function nt(e){var t=e.slice(0);var i=[0];var r=void 0;var n=void 0;var s=void 0;var a=void 0;var u=void 0;var o=e.length;for(r=0;r<o;r++){var l=e[r];if(l===-1){continue}n=i[i.length-1];if(e[n]<l){t[r]=n;i.push(r);continue}s=0;a=i.length-1;while(s<a){u=(s+a)/2|0;if(e[i[u]]<l){s=u+1}else{a=u}}if(l<e[i[s]]){if(s>0){t[r]=i[s-1]}i[s]=r}}s=i.length;a=i[s-1];while(s-- >0){i[s]=a;a=t[a]}return i}function st(e,t,i,r,n){var s=e+1;if(s<t){n.insertBefore(i,r[s].dom)}else{n.appendChild(i)}}function at(e,t,i,r){if(!i)i=e.dom.parentNode;qe(e,null);je(t,null,r);i.replaceChild(t.dom,e.dom)}function ut(e,t,i){var r=t.children;var n=e.dom;t.dom=n;if(e.children!==r){n.nodeValue=r}}function ot(e,t){var i=e.props;var r=t.props;var n=t.dom;var s=void 0;if(r!==oe){for(s in r){lt(s,i[s],r[s],n)}}if(i!==oe){for(s in i){if(!(s in r)){ft(s,i[s],n)}}}}function lt(e,t,i,r){if(t!==i){if(d[e]){return}else if(p[e]){r[e]=!!i}else if(_[e]){var n=u(i)?"":i;if(r[e]!==n){r[e]=n}}else if(u(i)){ft(e,t,r)}else if(l(e)){Ae(e.substr(3),t,i,r)}else if(s(i)){ht(e,t,i,r)}else if(e==="innerHTML"){r.innerHTML=i}else{r.setAttribute(e,i)}}}function ft(e,t,i){if(!u(t)){switch(e){case"value":i.value="";return;case"style":i.removeAttribute("style");return;case"attributes":for(var r in t){i.removeAttribute(r)}return;case"dataset":ct(t,i);return;default:break}if(p[e]){i[e]=false}else if(l(e)){Ae(e.substr(3),t,null,i)}else if(s(t)){var n=i[e];try{i[e]=undefined;delete i[e]}catch(e){for(var a in t){delete n[a]}}}else{i.removeAttribute(e)}}}var ct=y.isIE?function(e,t){for(var i in e){t.removeAttribute("data-"+pt(i))}}:function(e,t){var i=t.dataset;for(var r in e){delete i[r]}};function ht(e,t,i,r){if(t&&!s(t)&&!u(t)){ft(e,t,r);t=null}switch(e){case"attributes":return mt(t,i,r);case"style":return yt(t,i,r);case"dataset":return vt(e,t,i,r);default:return _t(e,t,i,r)}}var vt=y.isIE?function e(t,i,r,n){var s={};var a=void 0;var o=void 0;for(a in r){var l="data-"+pt(a);o=r[a];if(u(o)){n.removeAttribute(l);s[a]=true}else{n.setAttribute(l,o)}}if(!u(i)){for(a in i){if(u(r[a])&&!s[a]){n.removeAttribute("data-"+pt(a))}}}}:_t;var dt={};function pt(e){if(!dt[e]){dt[e]=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}return dt[e]}function _t(e,t,i,r){var n=r[e];if(u(n)){n=r[e]={}}var s=void 0;var a=void 0;for(s in i){n[s]=i[s]}if(!u(t)){for(s in t){if(u(i[s])){delete n[s]}}}}function mt(e,t,i){var r={};var n=void 0;var s=void 0;for(n in t){s=t[n];if(u(s)){i.removeAttribute(n);r[n]=true}else{i.setAttribute(n,s)}}if(!u(e)){for(n in e){if(u(t[n])&&!r[n]){i.removeAttribute(n)}}}}function yt(e,t,i){var r=i.style;var n={};var s=void 0;var a=void 0;for(s in t){a=t[s];if(u(a)){r[s]="";n[s]=true}else{r[s]=a}}if(!u(e)){for(s in e){if(u(t[s])&&!n[s]){r[s]=""}}}}var bt=(Object.freeze||Object)({h:fe,patch:$e,render:Ie,hc:ce});var St=new te;var gt=new ae;function xt(e,t){if(!(this instanceof xt))return new xt(e,t);this.template=kt(e,t);this.data=null;this.vNode=null;this.node=null;this.widgets={}}xt.prototype={constructor:xt,render:function e(t){this.renderVNode(t);this.node=Ie(this.vNode);return this.node},renderVNode:function e(t){if(t!==undefined){this.data=t}this.vNode=this.template(this.data,xt);return this.vNode},renderString:function e(t){var i=this.render(t);return i.outerHTML||i.toString()},update:function e(t){var i=this.vNode;this.renderVNode(t);this.node=$e(i,this.vNode);return this.node}};function kt(e,i){var r;if(i===true||i===false){i={autoReturn:i}}i=R({},z(),i);switch(typeof e==="undefined"?"undefined":t(e)){case"string":var n=St.parse(e,{delimiters:i.delimiters}),s=gt.stringify(n,i.autoReturn);s=["_Vdt || (_Vdt = Vdt);","obj || (obj = {});","blocks || (blocks = {});","var h = _Vdt.miss.h, hc = _Vdt.miss.hc, widgets = this && this.widgets || {}, _blocks = {}, __blocks = {},","extend = _Vdt.utils.extend, _e = _Vdt.utils.error,"+(i.server?'require = function(file) { return _Vdt.utils.require(file, "'+i.filename.replace(/\\/g,"\\\\")+'") }, ':"")+"self = this.data, scope = obj;",i.noWith?s:["with (obj) {",s,"}"].join("\n")].join("\n");r=i.onlySource?function(){}:new Function("obj","_Vdt","blocks",s);r.source="function(obj, _Vdt, blocks) {\n"+s+"\n}";break;case"function":r=e;break;default:throw new Error("Expect a string or function")}return r}xt.parser=St;xt.stringifier=gt;xt.miss=bt;xt.compile=kt;xt.utils=$;xt.setDelimiters=H;xt.getDelimiters=q;xt.virtualDom=bt;return xt});