!function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t():typeof define==="function"&&define.amd?define(t):e.Vdt=t()}(this,function(){"use strict";var e={};var t=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=Object.prototype.toString;var r=typeof document==="undefined"?e:document;var n=Array.isArray||function(e){return i.call(e)==="[object Array]"};function s(e){return(typeof e==="undefined"?"undefined":t(e))==="object"&&e!==null}function a(e){var i=typeof e==="undefined"?"undefined":t(e);return i==="string"||i==="number"}function u(e){return e===null||e===undefined}function l(e){return e&&typeof e.init==="function"}function o(e){return e.substr(0,3)==="ev-"}var f=function(){if(Array.prototype.indexOf){return function(e,t){return e.indexOf(t)}}else{return function(e,t){for(var i=0;i<e.length;i++){if(e[i]===t){return i}}return-1}}}();var c=Object.create;var h=function(){if(c){return function(e){return c(e)}}else{return function(e){function t(){}t.prototype=e;return new t}}}();var v=typeof Map==="function"?Map:function(){function e(){this._keys=[];this._values=[];this.size=0}e.prototype.set=function(e,t){var i=f(this._keys,e);if(!~i){i=this._keys.push(e)-1;this.size++}this._values[i]=t;return this};e.prototype.get=function(e){var t=f(this._keys,e);if(!~t)return;return this._values[t]};e.prototype.delete=function(e){var t=f(this._keys,e);if(!~t)return false;this._keys.splice(t,1);this._values.splice(t,1);this.size--;return true};return e}();var d={key:true,ref:true,children:true,className:true,checked:true,multiple:true,defaultValue:true};var p={muted:true,scoped:true,loop:true,open:true,checked:true,"default":true,capture:true,disabled:true,readOnly:true,required:true,autoplay:true,controls:true,seamless:true,reversed:true,allowfullscreen:true,novalidate:true,hidden:true,autoFocus:true,selected:true};var _={volume:true,defaultChecked:true,value:true};function m(){this.queue=[]}m.prototype.push=function(e){this.queue.push(e)};m.prototype.trigger=function(){var e=this.queue;var t=void 0;while(t=e.shift()){t()}};var g={};if(typeof navigator!=="undefined"){var y=navigator.userAgent;var b=y.indexOf("MSIE ");if(~b){g.isIE=true;var S=parseInt(y.substring(b+5,y.indexOf(".",b)),10);g.version=S;g.isIE8=S===8}}var x=g.isIE8?function(e,t){e.innerText=t}:function(e,t){e.textContent=t};var k=0;var J={JS:k++,JSXText:k++,JSXElement:k++,JSXExpressionContainer:k++,JSXAttribute:k++,JSXEmptyExpression:k++,JSXWidget:k++,JSXVdt:k++,JSXBlock:k++,JSXComment:k++,JSXDirective:k++};var X=[];for(var E in J){X[J[E]]=E}var C={area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,menuitem:true,meta:true,param:true,source:true,track:true,wbr:true};var w={style:true,script:true,textarea:true};var A={"v-if":true,"v-else-if":true,"v-else":true,"v-for":true,"v-for-value":true,"v-for-key":true};var T={autoReturn:true,onlySource:false,delimiters:["{","}"],noWith:false,server:false,skipWhitespace:false,setModel:function Vi(e,t,i){e[t]=i},getModel:function Mi(e,t){return e[t]}};var I=Object.prototype.hasOwnProperty;var N=function ji(){};function V(e){if(u(e))return false;var t=e.length;return typeof t==="number"&&t>-1&&t%1===0&&t<=9007199254740991&&typeof e!=="function"}function M(e,t,i){if(V(e)){for(var r=0,n=e.length;r<n;r++){t.call(i,e[r],r,e)}}else if(j(e)){for(var s in e){if(I.call(e,s)){t.call(i,e[s],s,e)}}}}function j(e){var i=typeof e==="undefined"?"undefined":t(e);return i==="function"||i==="object"&&!!e}function O(e,t,i){var r=[];M(e,function(e,n,s){r.push(t.call(i,e,n,s))});return r}function D(e){if(u(e))return;if(typeof e==="string")return e;var t=[];for(var i in e){if(I.call(e,i)&&e[i]){t.push(i)}}return t.join(" ")}function L(e){return e<=160&&e>=9&&e<=13||e==32||e==160||e==5760||e==6158||e>=8192&&(e<=8202||e==8232||e==8233||e==8239||e==8287||e==12288||e==65279)}function W(e){var t=e.length;while(t--&&L(e.charCodeAt(t))){}return e.slice(0,t+1)}function B(e){var t=e.length,i=-1;while(i++<t&&L(e.charCodeAt(i))){}return e.slice(i)}function F(e){if(!n(e)){throw new Error('The parameter must be an array like ["{{", "}}"]')}T.delimiters=e}function H(){return T.delimiters}function q(e){if(e!==undefined){Y(T,e)}return T}function z(e){return C[e]}function P(e){return w[e]}function R(e){return I.call(A,e)}function Y(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++){t[i]=arguments[i]}var r=t[0];var n=t.length;if(n>1){for(var s=1;s<n;s++){var a=t[s];if(a){for(var u in a){if(I.call(a,u)){r[u]=a[u]}}}}}return r}function K(e,t,i,r,s){var a=T.getModel(e,t),u=s.target.checked;if(n(a)){a=a.slice(0);if(u){a.push(i)}else{var l=f(a,i);if(~l){a.splice(l,1)}}}else{a=u?i:r}T.setModel(e,t,a)}function U(e,t,i){var r=T.getModel(e,t);if(n(r)){return f(r,i)>-1}else{return r===i}}function $(e,t,i){var r=i.target,n=r.multiple,s,a,l,o=r.options;if(n){s=[];for(a=0;a<o.length;a++){l=o[a];if(l.selected){s.push(u(l._value)?l.value:l._value)}}}else{for(a=0;a<o.length;a++){l=o[a];if(l.selected){s=u(l._value)?l.value:l._value;break}}}T.setModel(e,t,s)}var Q=function(){var e=typeof console!=="undefined";return e?function(e){console.error(e)}:N}();var Z=(Object.freeze||Object)({isNullOrUndefined:u,isArray:n,indexOf:f,Type:J,TypeName:X,SelfClosingTags:C,TextTags:w,Directives:A,Options:T,hasOwn:I,noop:N,each:M,isObject:j,map:O,className:D,isWhiteSpace:L,trimRight:W,trimLeft:B,setDelimiters:F,getDelimiters:H,configure:q,isSelfClosingTag:z,isTextTag:P,isDirective:R,extend:Y,setCheckboxModel:K,detectCheckboxChecked:U,setSelectModel:$,error:Q});var G=J;var et=X;var tt=/^<\w+:?\s*[\w\/>]/;function it(e){return e===58||e===95||e===45||e===36||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57}function rt(){this.source="";this.index=0;this.length=0}rt.prototype={constructor:rt,parse:function Oi(e,t){this.source=W(e);this.index=0;this.line=1;this.column=1;this.length=this.source.length;this.options=Y({},q(),t);return this._parseTemplate()},_parseTemplate:function Di(){var e=[],t={count:0};while(this.index<this.length&&t.count>=0){e.push(this._advance(t))}return e},_advance:function Li(e){var t=this._char();if(t!=="<"){return this._scanJS(e)}else{return this._scanJSX()}},_scanJS:function Wi(e){var t=this.index,i=this.options.delimiters;while(this.index<this.length){var r=this._char();if(r==="'"||r==='"'){this._scanStringLiteral()}else if(this._isElementStart()){break}else{if(r==="{"){e.count++}else if(e.count>0&&r==="}"){e.count--}else if(this._isExpect(i[1])){e.count--;break}else if(r==="\n"){this._updateLine()}this._updateIndex()}}return this._type(G.JS,{value:this.source.slice(t,this.index)})},_scanStringLiteral:function Bi(){var e=this._char(),t=this.index,i="";this._updateIndex();while(this.index<this.length){var r=this._char();if(r.charCodeAt(0)===10){this._updateLine()}this._updateIndex();if(r===e){e="";break}else if(r==="\\"){i+=this._char(this._updateIndex())}else{i+=r}}if(e!==""){this._error("Unclosed quote")}return this._type(G.StringLiteral,{value:this.source.slice(t,this.index)})},_scanJSX:function Fi(){return this._parseJSXElement()},_scanJSXText:function Hi(e){var t=this.index,i=e.length,r,n;e:while(this.index<this.length){n=this._charCode();if(L(n)){if(n===10){this._updateLine()}}else{for(r=0;r<i;r++){if(typeof e[r]==="function"&&e[r].call(this)||this._isExpect(e[r])){break e}}}this._updateIndex()}return this._type(G.JSXText,{value:this.source.slice(t,this.index)})},_scanJSXStringLiteral:function qi(){var e=this._char();if(e!=="'"&&e!=='"'){this._error("String literal must starts with a qoute")}this._updateIndex();var t=this._scanJSXText([e]);this._updateIndex();return t},_parseJSXElement:function zi(){this._expect("<");var e=this.index,t={},i=this._charCode();if(i>=65&&i<=90){this._type(G.JSXWidget,t)}else if(this._isExpect("!--")){return this._parseJSXComment()}else if(this._charCode(this.index+1)===58){e+=2;switch(i){case 116:this._type(G.JSXVdt,t);break;case 98:this._type(G.JSXBlock,t);break;default:this._error("Unknown directive "+String.fromCharCode(i)+":")}this._updateIndex(2)}else{this._type(G.JSXElement,t)}while(this.index<this.length){if(!it(this._charCode())){break}this._updateIndex()}t.value=this.source.slice(e,this.index);return this._parseAttributeAndChildren(t)},_parseAttributeAndChildren:function Pi(e){var t=this._parseJSXAttribute();Y(e,{attributes:t.attributes,directives:t.directives,children:[]});if(!e.directives.length)delete e.directives;if(e.type===G.JSXElement&&z(e.value)){if(this._char()==="/"){this._updateIndex()}this._expect(">")}else if(this._char()==="/"){this._updateIndex();this._expect(">")}else{this._expect(">");e.children=this._parseJSXChildren(e)}return e},_parseJSXAttribute:function Ri(){var e={attributes:[],directives:[]};while(this.index<this.length){this._skipWhitespace();if(this._char()==="/"||this._char()===">"){break}else{var t=this._parseJSXAttributeName();if(this._char()==="="){this._updateIndex();t.value=this._parseJSXAttributeValue()}e[t.type===G.JSXAttribute?"attributes":"directives"].push(t)}}return e},_parseJSXAttributeName:function Yi(){var e=this.index;if(!it(this._charCode())){this._error("Unexpected identifier "+this._char())}while(this.index<this.length){var t=this._charCode();if(!it(t)){break}this._updateIndex()}var i=this.source.slice(e,this.index);if(R(i)){return this._type(G.JSXDirective,{name:i})}return this._type(G.JSXAttribute,{name:i})},_parseJSXAttributeValue:function Ki(){var e,t=this.options.delimiters;if(this._isExpect(t[0])){e=this._parseJSXExpressionContainer()}else{e=this._scanJSXStringLiteral()}return e},_parseJSXExpressionContainer:function Ui(){var e,t=this.options.delimiters;this._expect(t[0]);if(this._isExpect(t[1])){e=this._parseJSXEmptyExpression()}else{e=this._parseExpression()}this._expect(t[1]);return this._type(G.JSXExpressionContainer,{value:e})},_parseJSXEmptyExpression:function $i(){return this._type(G.JSXEmptyExpression,{value:null})},_parseExpression:function Qi(){return this._parseTemplate()},_parseJSXChildren:function Zi(e){var t=[],i=e.value+">",r=null;switch(e.type){case G.JSXBlock:i="</b:"+i;break;case G.JSXVdt:i="</t:"+i;break;case G.JSXElement:default:i="</"+i;break}this._skipWhitespaceBetweenElements(i);while(this.index<this.length){if(this._isExpect(i)){break}r=this._parseJSXChild(e,i,r);t.push(r)}this._parseJSXClosingElement();return t},_parseJSXChild:function Gi(e,t,i){var r,n=this.options.delimiters;if(this._isExpect(n[0])){r=this._parseJSXExpressionContainer()}else if(P(e.value)){r=this._scanJSXText([t,n[0]])}else if(this._isElementStart()){r=this._parseJSXElement();this._skipWhitespaceBetweenElements(t)}else{r=this._scanJSXText([function(){return this._isExpect(t)||this._isElementStart()},n[0]])}r.prev=undefined;r.next=undefined;if(i){i.next=r;r.prev=i}return r},_parseJSXClosingElement:function er(){this._expect("</");while(this.index<this.length){if(!it(this._charCode())){break}this._updateIndex()}this._skipWhitespace();this._expect(">")},_parseJSXComment:function tr(){this._expect("!--");var e=this.index;while(this.index<this.length){if(this._isExpect("-->")){break}else if(this._charCode()===10){this._updateLine()}this._updateIndex()}var t=this._type(G.JSXComment,{value:this.source.slice(e,this.index)});this._expect("-->");return t},_char:function ir(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.index;return this.source.charAt(e)},_charCode:function rr(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.index;return this.source.charCodeAt(e)},_skipWhitespaceBetweenElements:function nr(e){if(!this.options.skipWhitespace)return;var t=this.index;while(t<this.length){var i=this._charCode(t);if(L(i)){t++}else if(this._isExpect(e,t)||this._isElementStart(t)){this._skipWhitespace();break}else{break}}},_skipWhitespace:function sr(){while(this.index<this.length){var e=this._charCode();if(!L(e)){break}else if(e===10){this._updateLine()}this._updateIndex()}},_expect:function ar(e){if(!this._isExpect(e)){this._error("expect string "+e)}this._updateIndex(e.length)},_isExpect:function ur(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.index;return this.source.slice(t,t+e.length)===e},_isElementStart:function lr(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.index;return this._char(e)==="<"&&(this._isExpect("<!--")||tt.test(this.source.slice(e)))},_type:function or(e,t){t||(t={});t.type=e;t.typeName=et[e];t.line=this.line;t.column=this.column;return t},_updateLine:function fr(){this.line++;this.column=0},_updateIndex:function cr(e){e===undefined&&(e=1);var t=this.index;this.index=this.index+e;this.column=this.column+e;return t},_error:function hr(e){throw new Error(e+" At: {line: "+this.line+", column: "+this.column+'} Near: "'+this.source.slice(this.index-10,this.index+20)+'"')}};var nt=J;var st=X;var at=function(){var e={"class":"className","for":"htmlFor"};return function(t){return e[t]||t}}();var ut=function vr(e){var t=e.length-1;for(var i=t;i>=0;i--){if(e[i]!=="null"){break}}return(i===t?e:e.slice(0,i+1)).join(", ")};function lt(){}lt.prototype={constructor:lt,stringify:function dr(e,t){if(arguments.length===1){t=true}this.autoReturn=!!t;this.enterStringExpression=false;return this._visitJSXExpressionContainer(e,true)},_visitJSXExpressionContainer:function pr(e,t){var i="",r=e.length;M(e,function(e,n){if(this.autoReturn&&t&&n===r-1){i+="return "+this._visit(e,t)}else{i+=this._visit(e,t)}},this);if(!t&&!this.enterStringExpression){i="function() {try {return ["+i+"][0]} catch(e) {_e(e)}}.call(this)"}return i},_visit:function _r(e,t){e=e||{};switch(e.type){case nt.JS:return this._visitJS(e,t);case nt.JSXElement:return this._visitJSX(e);case nt.JSXText:return this._visitJSXText(e);case nt.JSXExpressionContainer:return this._visitJSXExpressionContainer(e.value);case nt.JSXWidget:return this._visitJSXWidget(e);case nt.JSXBlock:return this._visitJSXBlock(e);case nt.JSXVdt:return this._visitJSXVdt(e,t);case nt.JSXComment:return this._visitJSXComment(e);default:return"null"}},_visitJS:function mr(e){return this.enterStringExpression?"("+e.value+")":e.value},_visitJSX:function gr(e){if(e.value==="script"||e.value==="style"){if(e.children.length){e.attributes.push({type:nt.JSXAttribute,typeName:st[nt.JSXAttribute],name:"innerHTML",value:{type:nt.JS,typeName:st[nt.JS],value:this._visitJSXChildrenAsString(e.children)}});e.children=[]}}return this._visitJSXDirective(e,this._visitJSXElement(e))},_visitJSXElement:function yr(e){var t=this._visitJSXAttribute(e,true,true);return"h("+ut(["'"+e.value+"'",t.props,this._visitJSXChildren(e.children),t.className,t.key,t.ref])+")"},_visitJSXChildren:function br(e){var t=[];M(e,function(e){if(e._skip)return;t.push(this._visit(e))},this);return t.length>1?"["+t.join(", ")+"]":t[0]||"null"},_visitJSXDirective:function Sr(e,t){var i={data:null,value:"value",key:"key"};M(e.directives,function(r){switch(r.name){case"v-if":t=this._visitJSXDirectiveIf(r,t,e);break;case"v-else-if":case"v-else":if(e._skip)break;throw new Error(r.name+" must be led with v-if. At: {line: "+e.line+", column: "+e.column+"}");case"v-for":i.data=this._visitJSXAttributeValue(r.value);break;case"v-for-value":i.value=this._visitJSXText(r.value,true);break;case"v-for-key":i.key=this._visitJSXText(r.value,true);break;default:break}},this);if(i.data){t=this._visitJSXDirectiveFor(i,t)}return t},_visitJSXDirectiveIf:function xr(e,t,i){var r=this._visitJSXAttributeValue(e.value)+" ? "+t+" : ",n=false,s=i,a=[],u=function v(){M(a,function(e){e._skip=true});a=[]};while(s=s.next){if(s.type===J.JSXText){if(!/^\s*$/.test(s.value))break;else a.push(s)}else if(s.type===J.JSXElement||s.type===J.JSXWidget){if(!s.directives||!s.directives.length)break;var l=false;for(var o=0,f=s.directives.length;o<f;o++){var c=s.directives[o],h=c.name;if(h==="v-else-if"){s._skip=true;r+=this._visitJSXAttributeValue(c.value)+" ? "+this._visit(s)+" : ";l=true;u();break}else if(h==="v-else"){s._skip=true;r+=this._visit(s);n=true;u();break}}if(!l)break}}if(!n)r+="undefined";return r},_visitJSXDirectiveFor:function kr(e,t){return"_Vdt.utils.map("+e.data+", function("+e.value+", "+e.key+") {\n"+"return "+t+";\n"+"}, this)"},_visitJSXChildrenAsString:function Jr(e){var t=[];this.enterStringExpression=true;M(e,function(e){t.push(this._visit(e))},this);this.enterStringExpression=false;return t.join("+")},_visitJSXAttribute:function Xr(e,t,i){var r=[],n=e.attributes,s,a,u,l="text",o=false,f={trueValue:true,falseValue:false};M(n,function(e){var n=at(e.name),c=this._visitJSXAttributeValue(e.value);if(n==="widget"&&e.value.type===nt.JSXText){u="function(i) {widgets["+c+"] = i}";return}else if(n==="className"){if(e.value.type===nt.JSXExpressionContainer){c="_className("+c+")"}if(t){s=c;return}}else if(n==="key"&&i){a=c;return}else if(n==="ref"&&i){u=c;return}else if(n==="v-model"){o=c;return}else if(n==="v-model-true"){f.trueValue=c;return}else if(n==="v-model-false"){f.falseValue=c;return}else if(n==="type"){l=c}else if(n==="value"){f.value=c}r.push("'"+n+"': "+c)},this);if(o){this._visitJSXAttributeModel(e,o,r,l,f)}return{props:r.length?"{"+r.join(", ")+"}":"null",className:s||"null",ref:u||"null",key:a||"null"}},_visitJSXAttributeModel:function Er(e,t,i,r,n){var s="value",a="change";if(e.type===nt.JSXElement){switch(e.value){case"input":s="value";switch(r){case"'file'":a="change";break;case"'radio'":case"'checkbox'":var l=n.trueValue,o=n.falseValue,f=n.value;if(u(f)){i.push("checked: _getModel(self, "+t+") === "+l);i.push("'ev-change': function(__e) {\n                                    _setModel(self, "+t+", __e.target.checked ? "+l+" : "+o+");\n                                }")}else{if(r==="'radio'"){i.push("checked: _getModel(self, "+t+") === "+f);i.push("'ev-change': function(__e) { \n                                        _setModel(self, "+t+", __e.target.checked ? "+f+" : "+o+");\n                                    }")}else{i.push("checked: _detectCheckboxChecked(self, "+t+", "+f+")");i.push("'ev-change': function(__e) { \n                                        _setCheckboxModel(self, "+t+", "+f+", "+o+", __e);\n                                    }")}}return;default:a="input";break}break;case"select":i.push("value: _getModel(self, "+t+")");i.push("'ev-change': function(__e) {\n                        _setSelectModel(self, "+t+", __e);\n                    }");return;default:break}i.push(s+": _getModel(self, "+t+")");i.push("'ev-"+a+"': function(__e) { _setModel(self, "+t+", __e.target.value) }")}else if(e.type===nt.JSXWidget){i.push("value: _getModel(self, "+t+")");i.push("'ev-$change:value': function(__c, __n) { _setModel(self, "+t+", __n) }")}},_visitJSXAttributeValue:function Cr(e){return n(e)?this._visitJSXChildren(e):this._visit(e)},_visitJSXText:function wr(e,t){var i=e.value.replace(/([\'\"\\])/g,"\\$1").replace(/[\r\n]/g,"\\n");if(!t){i="'"+i+"'"}return i},_visitJSXWidget:function Ar(e){if(e.children.length){e.attributes.push({name:"children",value:e.children})}var t=this._visitJSXAttribute(e,false,false);return this._visitJSXDirective(e,"h("+ut([e.value,t.props,"null","null",t.key,t.ref])+")")},_visitJSXBlock:function Tr(e,t){arguments.length===1&&(t=true);return"(_blocks."+e.value+" = function(parent) {return "+this._visitJSXChildren(e.children)+";}) && (__blocks."+e.value+" = function(parent) {\n"+"var self = this;\n"+"return blocks."+e.value+" ? blocks."+e.value+".call(this, function() {\n"+"return _blocks."+e.value+".call(self, parent);\n"+"}) : _blocks."+e.value+".call(this, parent);\n"+"})"+(t?" && __blocks."+e.value+".call(this)":"")},_visitJSXVdt:function Ir(e,t){var i=["(function(blocks) {","var _blocks = {}, __blocks = extend({}, blocks), _obj = "+this._visitJSXAttribute(e,false,false).props+" || {};",'if (_obj.hasOwnProperty("arguments")) { extend(_obj, _obj.arguments === null ? obj : _obj.arguments); delete _obj.arguments; }',"return "+e.value+".call(this, _obj, _Vdt, "].join("\n"),r=[];M(e.children,function(e){if(e.type===nt.JSXBlock){r.push(this._visitJSXBlock(e,false))}},this);i+=(r.length?r.join(" && ")+" && __blocks)":"__blocks)")+"}).call(this, "+(t?"blocks)":"{})");return i},_visitJSXComment:function Nr(e){return"hc("+this._visitJSXText(e)+")"}};var ot={Text:1,HtmlElement:1<<1,ComponentClass:1<<2,ComponentFunction:1<<3,ComponentInstance:1<<4,HtmlComment:1<<5,InputElement:1<<6,SelectElement:1<<7,TextareaElement:1<<8};ot.FormElement=ot.InputElement|ot.SelectElement|ot.TextareaElement;ot.Element=ot.HtmlElement|ot.FormElement;ot.ComponentClassOrInstance=ot.ComponentClass|ot.ComponentInstance;ot.TextElement=ot.Text|ot.HtmlComment;var ft={};if("production"!=="production"&&!g.isIE){Object.freeze(ft)}function ct(e,t,i,r,n,s,a){this.type=e;this.tag=t;this.props=i;this.children=r;this.key=s;this.ref=a;this.className=n}function ht(e,i,r,n,s,a){var u=void 0;i||(i=ft);switch(typeof e==="undefined"?"undefined":t(e)){case"string":if(e==="input"){u=ot.InputElement}else if(e==="select"){u=ot.SelectElement}else if(e==="textarea"){u=ot.TextareaElement}else{u=ot.HtmlElement}break;case"function":if(e.prototype.init){u=ot.ComponentClass}else{return e(i)}break;default:throw new Error("unknown vNode type: "+e)}if(i.children){i.children=_t(i.children)}return new ct(u,e,i,_t(r),n||i.className,s||i.key,a||i.ref)}function vt(e){return new ct(ot.HtmlComment,null,ft,e)}function dt(e){return new ct(ot.Text,null,ft,e)}function pt(e){var t=e.props||ft;return new ct(ot.ComponentInstance,e.constructor,t,e,null,t.key,t.ref)}function _t(e){if(n(e)){var t=gt(e,{index:0});return t.length?t:null}else if(l(e)){return pt(e)}return e}function mt(e,t){if(u(e.key)){e.key=".$"+t.index++}return e}function gt(e,t){var i=void 0;for(var r=0;r<e.length;r++){var s=e[r];if(u(s)){if(!i){i=e.slice(0,r)}}else if(n(s)){if(!i){i=e.slice(0,r)}i=i.concat(gt(s,t))}else if(a(s)){if(!i){i=e.slice(0,r)}i.push(mt(dt(s),t))}else if(l(s)){if(!i){i=e.slice(0,r)}i.push(mt(pt(s)),t)}else if(s.type){if(!i){i=e.slice(0,r)}i.push(mt(s,t))}}return i||e}var yt=["altKey","bubbles","cancelable","ctrlKey","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","type","view","which"];var bt=["char","charCode","key","keyCode"];var St=["button","buttons","clientX","clientY","layerX","layerY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement"];var xt=/^key|input/;var kt=/^(?:mouse|pointer|contextmenu)|click/;function Jt(e){for(var t=0;t<yt.length;t++){var i=yt[t];this[i]=e[i]}if(!e.target){this.target=e.srcElement}this._rawEvent=e}Jt.prototype.preventDefault=function(){var e=this._rawEvent;if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}};Jt.prototype.stopPropagation=function(){var e=this._rawEvent;e.cancelBubble=true;e.stopImmediatePropagation&&e.stopImmediatePropagation()};function Xt(e){Jt.call(this,e);for(var t=0;t<St.length;t++){var i=St[t];this[i]=e[i]}}Xt.prototype=h(Jt.prototype);Xt.prototype.constructor=Xt;function Et(e){Jt.call(this,e);for(var t=0;t<bt.length;t++){var i=bt[t];this[i]=e[i]}}Et.prototype=h(Jt.prototype);Et.prototype.constructor=Et;function Ct(e){if(xt.test(e.type)){return new Et(e)}else if(kt.test(e.type)){return new Xt(e)}else{return new Jt(e)}}var wt=void 0;var At=void 0;if("addEventListener"in r){wt=function Vr(e,t){r.addEventListener(e,t,false)};At=function Mr(e,t){r.removeEventListener(e,t)}}else{wt=function jr(e,t){r.attachEvent("on"+e,t)};At=function Or(e,t){r.detachEvent("on"+e,t)}}var Tt={};function It(e,t,i,r){if(e==="blur"){e="focusout"}else if(e==="focus"){e="focusin"}var n=Tt[e];if(i){if(!n){n={items:new v,docEvent:null};n.docEvent=Vt(e,n);Tt[e]=n}n.items.set(r,i)}else if(n){var s=n.items;if(s.delete(r)){if(s.size===0){At(e,n.docEvent);delete n[e]}}}}function Nt(e,t,i,r,n){var s=i.get(t);if(s){r--;e.currentTarget=t;s(e);if(e._rawEvent.cancelBubble){return}}if(r>0){var a=t.parentNode;if(u(a)||n&&a.nodeType===1&&a.disabled){return}Nt(e,a,i,r,n)}}function Vt(e,t){var i=function r(e){var i=t.items.size;e||(e=window.event);if(i>0){e=Ct(e);Nt(e,e.target,t.items,i,e.type==="click")}};wt(e,i);return i}function Mt(e,t,i,r){var s=i.multiple;if(s!==t.multiple){t.multiple=s}var a=e.children;if(!u(a)){var l=i.value;if(r&&u(l)){l=i.defaultValue}var o={hasSelected:false};if(n(a)){for(var f=0;f<a.length;f++){jt(a[f],l,o)}}else{jt(a,l,o)}if(!o.hasSelected){t.value=""}}}function jt(e,t,i){var r=e.tag;if(r==="optgroup"){var s=e.children;if(n(s)){for(var a=0;a<s.length;a++){Ot(s[a],t,i)}}else{Ot(s,t,i)}}else{Ot(e,t,i)}}function Ot(e,t,i){if(e.type&ot.HtmlElement){var r=e.props;var s=e.dom;if(n(t)&&f(t,r.value)!==-1||r.value===t){s.selected=true;if(!i.hasSelected)i.hasSelected=true}else if(!u(t)||!u(r.selected)){var a=!!r.selected;if(!i.hasSelected&&a)i.hasSelected=true;s.selected=a}}}function Dt(e,t,i){var r=i.type;var n=i.value;var s=i.checked;var a=i.defaultValue;var l=i.multiple;var o=!u(n);if(l&&l!==t.multiple){t.multiple=l}if(!u(a)&&!o){t.defaultValue=a+""}if(Lt(r)){if(o){t.value=n}if(!u(s)){t.checked=s}}else{if(o&&t.value!==n){t.value=n}else if(!u(s)){t.checked=s}}}function Lt(e){return e==="checkbox"||e==="radio"}function Wt(e,t,i,r){var n=i.value;var s=t.value;if(u(n)){if(r){var a=i.defaultValue;if(!u(a)){if(a!==s){t.value=a}}else if(s!==""){t.value=""}}}else{if(s!==n){t.value=n}}}function Bt(e,t,i,r){var n=e.type;if(n&ot.InputElement){Dt(e,t,i,r)}else if(n&ot.TextareaElement){Wt(e,t,i,r)}else if(n&ot.SelectElement){Mt(e,t,i,r)}}function Ft(e,t,i){if(u(e))return;var r=false;if(t||!i){i=new m;r=true}var n=Ht(e,t,i);if(r){i.trigger()}return n}function Ht(e,t,i){var r=e.type;if(r&ot.Element){return qt(e,t,i)}else if(r&ot.Text){return zt(e,t)}else if(r&ot.ComponentClassOrInstance){return Pt(e,t,i)}else if(r&ot.ComponentFunction){return Rt(e,t,i)}else if(r&ot.HtmlComment){return Yt(e,t)}else{throw new Error("unknown vnode type "+r)}}function qt(e,t,i){var n=r.createElement(e.tag);var s=e.children;var a=e.ref;var l=e.props;var o=e.className;e.dom=n;if(!u(s)){Ut(s,n,i)}if(!u(o)){n.className=o}if(l!==ft){var f=(e.type&ot.FormElement)>0;for(var c in l){gi(c,null,l[c],n,f)}if(f){Bt(e,n,l,true)}}if(!u(a)){ni(n,a,i)}if(t){t.appendChild(n)}return n}function zt(e,t){var i=r.createTextNode(e.children);e.dom=i;if(t){t.appendChild(i)}return i}function Pt(e,t,i,r){var n=e.props;var s=e.type&ot.ComponentClass?new e.tag(n):e.children;s.parentDom=null;s.mountedQueue=i;var a=s.init(r,e);var u=e.ref;e.dom=a;e.children=s;if(t){t.appendChild(a)}if(typeof s.mount==="function"){i.push(function(){return s.mount(r,e)})}if(typeof u==="function"){u(s)}return a}function Rt(e,t,i){var r=e.props;var s=e.ref;Kt(e);var a=e.children;var u=void 0;if(n(a)){u=[];for(var l=0;l<a.length;l++){u.push(Ht(a[l],t,i))}}else{u=Ht(e.children,t,i)}e.dom=u;if(s){ni(u,s,i)}return u}function Yt(e,t){var i=r.createComment(e.children);e.dom=i;if(t){t.appendChild(i)}return i}function Kt(e){var t=e.tag(e.props);if(a(t)){t=dt(t)}else{}e.children=t;return e}function Ut(e,t,i){if(a(e)){x(t,e)}else if(n(e)){for(var r=0;r<e.length;r++){Ht(e[r],t,i)}}else{Ht(e,t,i)}}function $t(e,t){if(u(e)){return}else if(n(e)){for(var i=0;i<e.length;i++){Qt(e[i],t)}}else{Qt(e,t)}}function Qt(e,t){var i=e.type;if(i&ot.Element){return Zt(e,t)}else if(i&ot.TextElement){return Gt(e,t)}else if(i&ot.ComponentClassOrInstance){return ti(e,t)}else if(i&ot.ComponentFunction){return ei(e,t)}}function Zt(e,t){var i=e.ref;var r=e.props;var n=e.dom;if(i){i(null)}$t(e.children,null);for(var s in r){var a=r[s];if(!u(a)&&o(s)){It(s.substr(0,3),a,null,n)}}if(t){t.removeChild(n)}}function Gt(e,t){if(t){t.removeChild(e.dom)}}function ei(e,t){var i=e.ref;if(i){i(null)}Qt(e.children,t)}function ti(e,t,i){var r=e.children;var n=e.ref;if(typeof r.destroy==="function"){r.destroy(e,i)}if(n){n(null)}if(t){t.removeChild(e.dom)}}function ii(e,t){x(e,"");$t(t)}function ri(e,t,i){if(!e)e=i.parentNode;e.replaceChild(t,i)}function ni(e,t,i){if(typeof t==="function"){i.push(function(){return t(e)})}else{throw new Error('ref must be a function, but got "'+JSON.stringify(t)+'"')}}function si(e,t,i){var r=new m;var n=ai(e,t,i,r);r.trigger();return n}function ai(e,t,i,r){if(e!==t){var n=t.type;var s=e.type;if(n&ot.Element){if(s&ot.Element){ui(e,t,i,r)}else{pi(e,t,i,r)}}else if(n&ot.TextElement){if(s&ot.TextElement){_i(e,t)}else{pi(e,t,i,r)}}else if(n&ot.ComponentClass){if(s&ot.ComponentClass){li(e,t,i,r)}else{pi(e,t,i,r)}}else if(n&ot.ComponentFunction){if(s&ot.ComponentFunction){fi(e,t,i,r)}else{pi(e,t,i,r)}}else if(n&ot.ComponentInstance){if(s&ot.ComponentInstance){oi(e,t,i,r)}else{pi(e,t,i,r)}}}return t.dom}function ui(e,t,i,r){var n=e.dom;var s=e.props;var a=t.props;var l=e.children;var o=t.children;var f=t.ref;var c=e.className;var h=t.className;t.dom=n;if(e.tag!==t.tag){pi(e,t,i,r)}else{if(l!==o){ci(l,o,n,r)}if(s!==a){mi(e,t)}if(c!==h){if(u(h)){n.removeAttribute("class")}else{n.className=h}}if(!u(f)&&e.ref!==f){ni(n,f,r)}}}function li(e,t,i,r){var n=e.tag;var s=t.tag;var a=e.dom;var u=void 0;var l=void 0;if(n!==s||e.key!==t.key){ti(e,null,t);l=Pt(t,null,r,e)}else{u=e.children;l=u.update(e,t);t.dom=l;t.children=u}if(a!==l&&!l.parentNode){ri(i,l,a)}}function oi(e,t,i,r){var n=e.children;var s=t.children;var a=e.dom;var u=void 0;if(n!==s){ti(e,null,t);u=Pt(t,null,r,e)}else{u=n.update(e,t);t.dom=u}if(a!==u&&!u.parentNode){ri(i,u,a)}}function fi(e,t,i,r){var n=e.tag;var s=t.tag;if(e.key!==t.key){$t(e.children,i);Rt(t,i,r)}else{t.dom=e.dom;Kt(t);ci(e.children,t.children,i,r)}}function ci(e,t,i,r){if(u(e)){if(!u(t)){Ut(t,i,r)}}else if(u(t)){$t(e,i)}else if(a(t)){if(a(e)){i.firstChild.nodeValue=t}else{$t(e,i);x(i,t)}}else if(n(e)){if(n(t)){hi(e,t,i,r)}else{$t(e,i);Ht(t,i,r)}}else if(n(t)){Qt(e,i);Ut(t,i,r)}else if(a(e)){x(i,"");Ht(t,i,r)}else{ai(e,t,i,r)}}function hi(e,t,i,r){var n=e.length;var s=t.length;var a=n-1;var u=s-1;var l=0;var o=0;var f=void 0;var c=void 0;var h=void 0;var v=void 0;var d=void 0;var p=void 0;var _=void 0;var m=e[l];var g=t[o];var y=e[a];var b=t[u];e:while(true){while(m.key===g.key){ai(m,g,i,r);++l;++o;if(l>a||o>u){break e}m=e[l];g=t[o]}while(y.key===b.key){ai(y,b,i,r);--a;--u;if(a<l||u<o){break e}y=e[a];b=t[u]}if(y.key===g.key){ai(y,g,i,r);i.insertBefore(g.dom,m.dom);--a;++o;y=e[a];g=t[o];continue}if(m.key===b.key){ai(m,b,i,r);di(u,s,b.dom,t,i);++l;--u;m=e[l];b=t[u];continue}break}if(l>a){while(o<=u){di(u,s,Ht(t[o],null,r),t,i);++o}}else if(o>u){while(l<=a){Qt(e[l],i);++l}}else{n=a-l+1;s=u-o+1;var S=new Array(s);for(f=0;f<s;f++){S[f]=-1}var x=false;var k=0;var J=0;if(s<=4||n*s<=16){for(f=l;f<=a;f++){h=e[f];if(J<s){for(c=o;c<=u;c++){v=t[c];if(h.key===v.key){S[c-o]=f;if(k>c){x=true}else{k=c}ai(h,v,i,r);++J;e[f]=null;break}}}}}else{var X={};for(f=o;f<=u;f++){X[t[f].key]=f}for(f=l;f<=a;f++){h=e[f];if(J<s){c=X[h.key];if(c!==undefined){v=t[c];S[c-o]=f;if(k>c){x=true}else{k=c}ai(h,v,i,r);++J;e[f]=null}}}}if(n===e.length&&J===0){ii(i,e);while(o<s){Ht(t[o],i,r);++o}}else{if(x){var E=vi(S);c=E.length-1;for(f=s-1;f>=0;f--){if(S[f]===-1){k=f+o;di(k,t.length,Ht(t[k],null,r),t,i)}else{if(c<0||f!==E[c]){k=f+o;di(k,t.length,t[k].dom,t,i)}else{--c}}}}else if(J!==s){for(f=s-1;f>=0;f--){if(S[f]===-1){k=f+o;di(k,t.length,Ht(t[k],null,r),t,i)}}}f=n-J;while(f>0){h=e[l++];if(h!==null){Qt(h,i);--f}}}}}function vi(e){var t=e.slice(0);var i=[0];var r=void 0;var n=void 0;var s=void 0;var a=void 0;var u=void 0;var l=e.length;for(r=0;r<l;r++){var o=e[r];if(o===-1){continue}n=i[i.length-1];if(e[n]<o){t[r]=n;i.push(r);continue}s=0;a=i.length-1;while(s<a){u=(s+a)/2|0;if(e[i[u]]<o){s=u+1}else{a=u}}if(o<e[i[s]]){if(s>0){t[r]=i[s-1]}i[s]=r}}s=i.length;a=i[s-1];while(s-->0){i[s]=a;a=t[a]}return i}function di(e,t,i,r,n){var s=e+1;if(s<t){n.insertBefore(i,r[s].dom)}else{n.appendChild(i)}}function pi(e,t,i,r){if(!i)i=e.dom.parentNode;Qt(e,null);Ht(t,null,r);i.replaceChild(t.dom,e.dom)}function _i(e,t,i){var r=t.children;var n=e.dom;t.dom=n;if(e.children!==r){n.nodeValue=r}}function mi(e,t){var i=e.props;
var r=t.props;var n=t.dom;var s=void 0;if(r!==ft){var a=(t.type&ot.FormElement)>0;for(s in r){gi(s,i[s],r[s],n,a)}if(a){Bt(t,n,r,false)}}if(i!==ft){for(s in i){if(!(s in r)){yi(s,i[s],n)}}}}function gi(e,t,i,r,n){if(t!==i){if(d[e]||n&&e==="value"){return}else if(p[e]){r[e]=!!i}else if(_[e]){var a=u(i)?"":i;if(r[e]!==a){r[e]=a}if(e==="value"){r._value=a}}else if(u(i)){yi(e,t,r)}else if(o(e)){It(e.substr(3),t,i,r)}else if(s(i)){Si(e,t,i,r)}else if(e==="innerHTML"){r.innerHTML=i}else{r.setAttribute(e,i)}}}function yi(e,t,i){if(!u(t)){switch(e){case"value":i.value="";return;case"style":i.removeAttribute("style");return;case"attributes":for(var r in t){i.removeAttribute(r)}return;case"dataset":bi(t,i);return;default:break}if(p[e]){i[e]=false}else if(o(e)){It(e.substr(3),t,null,i)}else if(s(t)){var n=i[e];try{i[e]=undefined;delete i[e]}catch(a){for(var l in t){delete n[l]}}}else{i.removeAttribute(e)}}}var bi=g.isIE?function(e,t){for(var i in e){t.removeAttribute("data-"+Ji(i))}}:function(e,t){var i=t.dataset;for(var r in e){delete i[r]}};function Si(e,t,i,r){if(t&&!s(t)&&!u(t)){yi(e,t,r);t=null}switch(e){case"attributes":return Ei(t,i,r);case"style":return Ci(t,i,r);case"dataset":return xi(e,t,i,r);default:return Xi(e,t,i,r)}}var xi=g.isIE?function Dr(e,t,i,r){var n={};var s=void 0;var a=void 0;for(s in i){var l="data-"+Ji(s);a=i[s];if(u(a)){r.removeAttribute(l);n[s]=true}else{r.setAttribute(l,a)}}if(!u(t)){for(s in t){if(u(i[s])&&!n[s]){r.removeAttribute("data-"+Ji(s))}}}}:Xi;var ki={};function Ji(e){if(!ki[e]){ki[e]=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}return ki[e]}function Xi(e,t,i,r){var n=r[e];if(u(n)){n=r[e]={}}var s=void 0;var a=void 0;for(s in i){n[s]=i[s]}if(!u(t)){for(s in t){if(u(i[s])){delete n[s]}}}}function Ei(e,t,i){var r={};var n=void 0;var s=void 0;for(n in t){s=t[n];if(u(s)){i.removeAttribute(n);r[n]=true}else{i.setAttribute(n,s)}}if(!u(e)){for(n in e){if(u(t[n])&&!r[n]){i.removeAttribute(n)}}}}function Ci(e,t,i){var r=i.style;var n={};var s=void 0;var a=void 0;for(s in t){a=t[s];if(u(a)){r[s]="";n[s]=true}else{r[s]=a}}if(!u(e)){for(s in e){if(u(t[s])&&!n[s]){r[s]=""}}}}var wi=(Object.freeze||Object)({h:ht,patch:si,render:Ft,hc:vt,remove:Qt,MountedQueue:m});var Ai=new rt;var Ti=new lt;function Ii(e,t){if(!(this instanceof Ii))return new Ii(e,t);this.template=Ni(e,t);this.data=null;this.vNode=null;this.node=null;this.widgets={}}Ii.prototype={constructor:Ii,render:function Lr(e,t,i){this.renderVNode(e);this.node=Ft(this.vNode,t,i);return this.node},renderVNode:function Wr(e){if(e!==undefined){this.data=e}this.vNode=this.template(this.data,Ii);return this.vNode},renderString:function Br(e){var t=this.render(e);return t.outerHTML||t.toString()},update:function Fr(e){var t=this.vNode;this.renderVNode(e);this.node=si(t,this.vNode);return this.node},destroy:function Hr(){Qt(this.vNode)}};function Ni(e,i){var r;if(i===true||i===false){i={autoReturn:i}}i=Y({},q(),i);switch(typeof e==="undefined"?"undefined":t(e)){case"string":var n=Ai.parse(e,i),s=Ti.stringify(n,i.autoReturn);s=["_Vdt || (_Vdt = Vdt);","obj || (obj = {});","blocks || (blocks = {});","var h = _Vdt.miss.h, hc = _Vdt.miss.hc, widgets = this && this.widgets || {}, _blocks = {}, __blocks = {},","__u = _Vdt.utils, extend = __u.extend, _e = __u.error, _className = __u.className,","__o = __u.Options, _getModel = __o.getModel, _setModel = __o.setModel,","_setCheckboxModel = __u.setCheckboxModel, _detectCheckboxChecked = __u.detectCheckboxChecked,","_setSelectModel = __u.setSelectModel,",(i.server?'require = function(file) { return _Vdt.require(file, "'+i.filename.replace(/\\/g,"\\\\")+'") }, ':"")+"self = this.data, scope = obj;",i.noWith?s:["with (obj) {",s,"}"].join("\n")].join("\n");r=i.onlySource?function(){}:new Function("obj","_Vdt","blocks",s);r.source="function(obj, _Vdt, blocks) {\n"+s+"\n}";break;case"function":r=e;break;default:throw new Error("Expect a string or function")}return r}Ii.parser=Ai;Ii.stringifier=Ti;Ii.miss=wi;Ii.compile=Ni;Ii.utils=Z;Ii.setDelimiters=F;Ii.getDelimiters=H;Ii.configure=q;Ii.virtualDom=wi;return Ii});