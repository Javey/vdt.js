(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.Vdt=e()}})(function(){var e,t,i;return function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var u=typeof require=="function"&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[o]={exports:{}};t[o][0].call(c.exports,function(e){var i=t[o][1][e];return r(i?i:e)},c,c.exports,e,t,i,n)}return i[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){var n=t.exports={};var r;var s;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=o}}catch(e){r=o}try{if(typeof clearTimeout==="function"){s=clearTimeout}else{s=a}}catch(e){s=a}})();function u(e){if(r===setTimeout){return setTimeout(e,0)}if((r===o||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function l(e){if(s===clearTimeout){return clearTimeout(e)}if((s===a||!s)&&clearTimeout){s=clearTimeout;return clearTimeout(e)}try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}var c=[];var f=false;var h;var p=-1;function d(){if(!f||!h){return}f=false;if(h.length){c=h.concat(c)}else{p=-1}if(c.length){v()}}function v(){if(f){return}var e=u(d);f=true;var t=c.length;while(t){h=c;c=[];while(++p<t){if(h){h[p].run()}}p=-1;t=c.length}h=null;f=false;l(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}}c.push(new m(e,t));if(c.length===1&&!f){u(v)}};function m(e,t){this.fun=e;this.array=t}m.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function y(){}n.on=y;n.addListener=y;n.once=y;n.off=y;n.removeListener=y;n.removeAllListeners=y;n.emit=y;n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},{}],2:[function(e,t,i){(function(t){"use strict";Object.defineProperty(i,"__esModule",{value:true});function n(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var r=n(e("min-document"));var s=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=Object.prototype.toString;var a=typeof document==="undefined"?r:document;var u=Array.isArray||function(e){return o.call(e)==="[object array]"};function l(e){return(typeof e==="undefined"?"undefined":s(e))==="object"&&e!==null}function c(e){var t=typeof e==="undefined"?"undefined":s(e);return t==="string"||t==="number"}function f(e){return e===null||e===undefined}function h(e){return e.substr(0,3)==="ev-"}var p=function(){if(Array.prototype.indexOf){return function(e,t){return e.indexOf(t)}}else{return function(e,t){for(var i=0;i<e.length;i++){if(e[i]===t){return i}}return-1}}}();var d=Object.create;var v=function(){if(d){return function(e){return d(e)}}else{return function(e){function t(){}t.prototype=e;return new t}}}();var m=typeof Map==="function"?Map:function(){function e(){this._keys=[];this._values=[];this.size=0}e.prototype.set=function(e,t){var i=p(this._keys,e);if(!~i){i=this._keys.push(e)-1;this.size++}this._values.push(t);return this};e.prototype.get=function(e){var t=p(this._keys,e);if(!~t)return;return this._values[t]};e.prototype.delete=function(e){var t=p(this._keys,e);if(!~t)return false;this._keys.spilce(t,1);this._values.splice(t,1);this.size--;return true};return e}();var y={key:true,ref:true,children:true};function _(){this.queue=[]}_.prototype.push=function(e){this.queue.push(e)};_.prototype.trigger=function(){var e=this.queue;var t=void 0;while(t=e.shift()){t()}};var g={Text:1,HtmlElement:2,ComponentClass:4,ComponentFunction:8,HtmlComment:16};g.Element=g.HtmlElement;g.Component=g.ComponentClass|g.ComponentFunction;g.TextElement=g.Text|g.HtmlComment;var b={};if(t.env.NODE_ENV!=="production"){Object.freeze(b)}function x(e,t,i,n){this.type=e;this.tag=t;this.props=i;this.children=n;this.key=i.key;this.ref=i.ref}function S(e,t,i){var n=void 0;t||(t=b);switch(typeof e==="undefined"?"undefined":s(e)){case"string":n=g.HtmlElement;break;case"function":if(e.prototype.init){n=g.ComponentClass}else{n=g.ComponentFunction}break;default:throw new Error("unknown vNode type: "+e)}if(t.children){t.children=E(t.children)}return new x(n,e,t,E(i))}function w(e){return new x(g.HtmlComment,null,b,e)}function k(e){return new x(g.Text,null,b,e)}function E(e){if(f(e))return e;var t=[];J(e,t,0);return t.length?t:null}function J(e,t,i){var n=true;if(f(e)){e=k("")}else if(u(e)){for(var r=0;r<e.length;r++){if(J(e[r],t,i+r)){--i}}return}else if(c(e)){e=k(e)}else if(!e.type){throw new Error("expect a vNode, but got "+e)}if(f(e.key)){e.key=".$"+i;n=false}t.push(e);return n}function C(e,t){if(f(e))return;var i=new _;var n=X(e,t,i);i.trigger();return n}function X(e,t,i){var n=e.type;switch(n){case g.HtmlElement:return N(e,t,i);case g.Text:return T(e,t);case g.ComponentClass:return j(e,t,i);case g.ComponentFunction:return A(e,t,i);case g.HtmlComment:return D(e,t);default:throw new Error("unknown vnode type")}}function N(e,t,i){var n=a.createElement(e.tag);var r=e.children;var s=e.ref;e.dom=n;V(r,n,i);ve(null,e);if(!f(s)){M(n,s,i)}if(t){t.appendChild(n)}return n}function T(e,t){var i=a.createTextNode(e.children);e.dom=i;if(t){t.appendChild(i)}return i}function j(e,t,i,n){var r=e.props;var s=new e.tag(r);var o=s.init(n,e);var a=r.ref;e.dom=o;e.children=s;if(t){t.appendChild(o)}if(typeof s.mount==="function"){i.push(function(){return s.mount(n,e)})}if(typeof a==="function"){a(s)}return o}function A(e,t,i){var n=e.props;var r=e.ref;L(e);var s=X(e.children,null,i);e.dom=s;if(t){t.appendChild(s)}if(r){M(s,r,i)}return s}function D(e,t){var i=a.createComment(e.children);e.dom=i;if(t){t.appendChild(i)}return i}function L(e){var t=e.tag(e.props);if(u(t)){throw new Error("ComponentFunction "+e.tag.name+" returned a invalid vNode")}else if(c(t)){t=k(t)}e.children=t;return e}function V(e,t,i){if(f(e))return;for(var n=0;n<e.length;n++){X(e[n],t,i)}}function O(e,t){if(f(e))return;for(var i=0;i<e.length;i++){I(e[i],t)}}function I(e,t){switch(e.type){case g.Element:return B(e,t);case g.Text:case g.HtmlComment:return F(e,t);case g.ComponentFunction:return W(e,t);case g.ComponentClass:return H(e,t)}}function B(e,t){var i=e.ref;var n=e.props;var r=e.dom;if(i){i(null)}O(e.children,null);for(var s in n){var o=n[s];if(!f(o)&&h(s)){handleEvent(s.substr(0,3),o,null,r)}}if(t){t.removeChild(r)}}function F(e,t){if(t){t.removeChild(e.dom)}}function W(e,t){var i=e.ref;if(i){i(null)}I(e.children,t)}function H(e,t,i){var n=e.children;var r=e.ref;if(typeof n.destroy==="function"){n.destroy(e,i)}if(r){r(null)}O(e.props.children,null);if(t){t.removeChild(e.dom)}}function q(e,t){e.textContent="";O(t)}function U(e,t,i){if(!e)e=i.parentNode;e.replaceChild(t,i)}function M(e,t,i){if(typeof t==="function"){i.push(function(){return t(e)})}else{throw new Error('ref must be a function, but got "'+JSON.stringify(t)+'"')}}var P=["altKey","bubbles","cancelable","ctrlKey","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","type","view","which"];var R=["char","charCode","key","keyCode"];var z=["button","buttons","clientX","clientY","layerX","layerY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement"];var Y=/^key|input/;var K=/^(?:mouse|pointer|contextmenu)|click/;function $(e){for(var t=0;t<P.length;t++){var i=P[t];this[i]=e[i]}this._rawEvent=e}$.prototype.preventDefault=function(){this._rawEvent.preventDefault()};$.prototype.stopPropagation=function(){var e=this._rawEvent;e.cancelBubble=true;e.stopImmediatePropagation()};function Z(e){$.call(this,e);for(var t=0;t<z.length;t++){var i=z[t];this[i]=e[i]}}Z.prototype=v($.prototype);Z.prototype.constructor=Z;function G(e){$.call(this,e);for(var t=0;t<R.length;t++){var i=R[t];this[i]=e[i]}}G.prototype=v($.prototype);G.prototype.constructor=G;function Q(e){if(Y.test(e.type)){return new G(e)}else if(K.test(e.type)){return new Z(e)}else{return new $(e)}}var ee={};function te(e,t,i,n){var r=ee[e];if(i){if(!r){r={items:new m,docEvent:null};r.docEvent=ne(e,r);ee[e]=r}r.items.set(n,i)}else if(r){var s=r.items;if(s.delete(n)){if(s.size===0){a.removeEventListener(e,r.docEvent);delete r[e]}}}}function ie(e,t,i,n,r){var s=i.get(t);if(s){n--;e.currentTarget=t;s(e);if(e._rawEvent.cancelBubble){return}}if(n>0){var o=t.parentNode;if(f(o)||r&&o.nodeType===1&&o.disabled){return}ie(e,o,i,n,r)}}function ne(e,t){var i=function e(i){var n=t.items.size;if(n>0){ie(Q(i),i.target,t.items,n,i.type==="click")}};a.addEventListener(e,i);return i}function re(e,t,i){var n=new _;var r=se(e,t,i,n);n.trigger();return r}function se(e,t,i,n){if(e!==t){var r=t.type;var s=e.type;if(r&g.Element){if(s&g.Element){oe(e,t,i,n)}else{pe(e,t,i,n)}}else if(r&g.TextElement){if(s&g.TextElement){de(e,t)}else{pe(e,t,i,n)}}else if(r&g.ComponentClass){if(s&g.ComponentClass){ae(e,t,i,n)}else{pe(e,t,i,n)}}else if(r&g.ComponentFunction){if(s&g.ComponentFunction){ue(e,t,i,n)}else{pe(e,t,i,n)}}}return t.dom}function oe(e,t,i,n){var r=e.dom;var s=e.props;var o=t.props;var a=e.children;var u=t.children;var l=t.ref;t.dom=r;if(e.tag!==t.tag){pe(e,t,i,n)}else{le(a,u,r,n);ve(e,t);if(!f(l)&&e.ref!==l){M(r,l,n)}}}function ae(e,t,i,n){var r=e.tag;var s=t.tag;var o=e.dom;var a=void 0;var u=void 0;if(r!==s||e.key!==t.key){u=j(t,null,n,e);H(e,null,t)}else{a=e.children;u=a.update(e,t);t.dom=u}if(o!==u){U(i,u,o)}}function ue(e,t,i,n){var r=e.tag;var s=t.tag;if(e.key!==t.key){I(e.children,i);A(t,i,n)}else{t.dom=e.dom;L(t);se(e.children,t.children,i,n)}}function le(e,t,i,n){if(f(e)){V(t,i,n)}else if(f(t)){O(e,i)}else{ce(e,t,i,n)}}function ce(e,t,i,n){var r=e.length;var s=t.length;var o=r-1;var a=s-1;var u=0;var l=0;var c=void 0;var f=void 0;var h=void 0;var p=void 0;var d=void 0;var v=void 0;var m=void 0;var y=e[u];var _=t[l];var g=e[o];var b=t[a];e:while(true){while(y.key===_.key){se(y,_,i,n);++u;++l;if(u>o||l>a){break e}y=e[u];_=t[l]}while(g.key===b.key){se(g,b,i,n);--o;--a;if(o<u||a<l){break e}g=e[o];b=t[a]}if(g.key===_.key){se(g,_,i,n);i.insertBefore(_.dom,y.dom);--o;++l;g=e[o];_=t[l];continue}if(y.key===b.key){se(y,b,i,n);he(a,s,b.dom,t,i);++u;--a;y=e[u];b=t[a];continue}break}if(u>o){while(l<=a){he(a,s,X(t[l],null,n),t,i);++l}}else if(l>a){while(u<=o){I(e[u],i);++u}}else{r=o-u+1;s=a-l+1;var x=new Array(s);for(c=0;c<s;c++){x[c]=-1}var S=false;var w=0;var k=0;if(s<=4||r*s<=16){for(c=u;c<=o;c++){h=e[c];if(k<s){for(f=l;f<=a;f++){p=t[f];if(h.key===p.key){x[f-l]=c;if(w>f){S=true}else{w=f}se(h,p,i,n);++k;e[c]=null;break}}}}}else{var E={};for(c=l;c<=a;c++){E[t[c].key]=c}for(c=u;c<=o;c++){h=e[c];if(k<s){f=E[h.key];if(f!==undefined){p=t[f];x[f-l]=c;if(w>f){S=true}else{w=f}se(h,p,i,n);++k;e[c]=null}}}}if(r===e.length&&k===0){q(i,e);while(l<s){X(t[l],i,n);++l}}else{c=r-k;while(c>0){h=e[u++];if(h!==null){I(h,i);--c}}if(S){var J=fe(x);f=J.length-1;for(c=s-1;c>=0;c--){if(x[c]===-1){w=c+l;he(w,t.length,X(t[w],null,n),t,i)}else{if(f<0||c!==J[f]){w=c+l;he(w,t.length,t[w].dom,t,i)}else{--f}}}}else if(k!==s){for(c=s-1;c>=0;c--){if(x[c]===-1){w=c+l;he(w,t.length,X(t[w],null,n),t,i)}}}}}}function fe(e){var t=e.slice(0);var i=[0];var n=void 0;var r=void 0;var s=void 0;var o=void 0;var a=void 0;var u=e.length;for(n=0;n<u;n++){var l=e[n];if(l===-1){continue}r=i[i.length-1];if(e[r]<l){t[n]=r;i.push(n);continue}s=0;o=i.length-1;while(s<o){a=(s+o)/2|0;if(e[i[a]]<l){s=a+1}else{o=a}}if(l<e[i[s]]){if(s>0){t[n]=i[s-1]}i[s]=n}}s=i.length;o=i[s-1];while(s-- >0){i[s]=o;o=t[o]}return i}function he(e,t,i,n,r){var s=e+1;if(s<t){r.insertBefore(i,n[s].dom)}else{r.appendChild(i)}}function pe(e,t,i,n){if(!i)i=e.dom.parentNode;I(e,null);X(t,null,n);i.replaceChild(t.dom,e.dom)}function de(e,t,i){var n=t.children;var r=e.dom;t.dom=r;if(e.children!==n){r.nodeValue=n}}function ve(e,t){var i=e&&e.props||null;var n=t.props;var r=t.dom;var s=void 0;for(s in n){if(y[s])continue;var o=n[s];if(f(o)){me(s,r,i)}else if(h(s)){xe(s,o,r,i)}else if(l(o)){ye(s,o,r,i)}else if(s==="style"){r.style.cssText=o}else{try{r[s]=o}catch(e){}}}if(!f(i)){for(s in i){if(!(s in n)){me(s,r,i)}}}}function me(e,t,i){if(!f(i)){var n=i[e];var r=t[e];if(e==="attributes"){for(var o in n){t.removeAttribute(o)}}else if(e==="style"){t.style.cssText=""}else if(h(e)){te(e.substr(3),n,null,t)}else if(typeof n==="string"||typeof r==="string"){t[e]=""}else if((typeof n==="undefined"?"undefined":s(n))==="object"){try{t[e]=undefined;delete t[e]}catch(e){for(var a in n){delete r[a]}}}else{delete t[e]}}}function ye(e,t,i,n){var r=void 0;if(n){r=n[e];if(!l(r)&&!f(r)){me(e,i,n);r=null}}switch(e){case"attributes":return ge(r,t,i);case"style":return be(r,t,i);default:return _e(e,r,t,i)}}function _e(e,t,i,n){var r=n[e];if(f(r)){r=n[e]={}}var s=void 0;var o=void 0;for(s in i){r[s]=i[s]}if(!f(t)){for(s in t){if(f(i[s])){delete r[s]}}}}function ge(e,t,i){var n={};var r=void 0;var s=void 0;for(r in t){s=t[r];if(f(s)){i.removeAttribute(r);n[r]=true}else{i.setAttribute(r,s)}}if(!f(e)){for(r in e){if(f(t[r])&&!n[r]){i.removeAttribute(r)}}}}function be(e,t,i){var n=i.style;var r={};var s=void 0;var o=void 0;for(s in t){o=t[s];if(f(o)){n[s]="";r[s]=true}else{n[s]=o}}if(!f(e)){for(s in e){if(f(t[s])&&!r[s]){n[s]=""}}}}function xe(e,t,i,n){var r=n&&n[e]||null;if(r!==t){te(e.substr(3),r,t,i)}}i.h=S;i.patch=re;i.render=C;i.hc=w}).call(this,e("_process"))},{_process:1,"min-document":13}],3:[function(e,t,i){var n=Array.prototype.slice;t.exports=r;function r(e,t){if(!("length"in e)){e=[e]}e=n.call(e);while(e.length){var i=e.shift(),r=t(i);if(r){return r}if(i.childNodes&&i.childNodes.length){e=n.call(i.childNodes).concat(e)}}}},{}],4:[function(e,t,i){var n=e("dom-walk");var r=e("./dom-comment.js");var s=e("./dom-text.js");var o=e("./dom-element.js");var a=e("./dom-fragment.js");var u=e("./event.js");var l=e("./event/dispatch-event.js");var c=e("./event/add-event-listener.js");var f=e("./event/remove-event-listener.js");t.exports=h;function h(){if(!(this instanceof h)){return new h}this.head=this.createElement("head");this.body=this.createElement("body");this.documentElement=this.createElement("html");this.documentElement.appendChild(this.head);this.documentElement.appendChild(this.body);this.childNodes=[this.documentElement];this.nodeType=9}var p=h.prototype;p.createTextNode=function e(t){return new s(t,this)};p.createElementNS=function e(t,i){var n=t===null?null:String(t);return new o(i,this,n)};p.createElement=function e(t){return new o(t,this)};p.createDocumentFragment=function e(){return new a(this)};p.createEvent=function e(t){return new u(t)};p.createComment=function e(t){return new r(t,this)};p.getElementById=function e(t){t=String(t);var i=n(this.childNodes,function(e){if(String(e.id)===t){return e}});return i||null};p.getElementsByClassName=o.prototype.getElementsByClassName;p.getElementsByTagName=o.prototype.getElementsByTagName;p.contains=o.prototype.contains;p.removeEventListener=f;p.addEventListener=c;p.dispatchEvent=l},{"./dom-comment.js":5,"./dom-element.js":6,"./dom-fragment.js":7,"./dom-text.js":8,"./event.js":9,"./event/add-event-listener.js":10,"./event/dispatch-event.js":11,"./event/remove-event-listener.js":12,"dom-walk":3}],5:[function(e,t,i){t.exports=n;function n(e,t){if(!(this instanceof n)){return new n(e,t)}this.data=e;this.nodeValue=e;this.length=e.length;this.ownerDocument=t||null}n.prototype.nodeType=8;n.prototype.nodeName="#comment";n.prototype.toString=function e(){return"[object Comment]"}},{}],6:[function(e,t,i){var n=e("dom-walk");var r=e("./event/dispatch-event.js");var s=e("./event/add-event-listener.js");var o=e("./event/remove-event-listener.js");var a=e("./serialize.js");var u="http://www.w3.org/1999/xhtml";t.exports=l;function l(e,t,i){if(!(this instanceof l)){return new l(e)}var n=i===undefined?u:i||null;this.tagName=n===u?String(e).toUpperCase():e;this.nodeName=this.tagName;this.className="";this.dataset={};this.childNodes=[];this.parentNode=null;this.style={};this.ownerDocument=t||null;this.namespaceURI=n;this._attributes={};if(this.tagName==="INPUT"){this.type="text"}}l.prototype.type="DOMElement";l.prototype.nodeType=1;l.prototype.appendChild=function e(t){if(t.parentNode){t.parentNode.removeChild(t)}this.childNodes.push(t);t.parentNode=this;return t};l.prototype.replaceChild=function e(t,i){if(t.parentNode){t.parentNode.removeChild(t)}var n=this.childNodes.indexOf(i);i.parentNode=null;this.childNodes[n]=t;t.parentNode=this;return i};l.prototype.removeChild=function e(t){var i=this.childNodes.indexOf(t);this.childNodes.splice(i,1);t.parentNode=null;return t};l.prototype.insertBefore=function e(t,i){if(t.parentNode){t.parentNode.removeChild(t)}var n=i===null||i===undefined?-1:this.childNodes.indexOf(i);if(n>-1){this.childNodes.splice(n,0,t)}else{this.childNodes.push(t)}t.parentNode=this;return t};l.prototype.setAttributeNS=function e(t,i,n){var r=null;var s=i;var o=i.indexOf(":");if(o>-1){r=i.substr(0,o);s=i.substr(o+1)}if(this.tagName==="INPUT"&&i==="type"){this.type=n}else{var a=this._attributes[t]||(this._attributes[t]={});a[s]={value:n,prefix:r}}};l.prototype.getAttributeNS=function e(t,i){var n=this._attributes[t];var r=n&&n[i]&&n[i].value;if(this.tagName==="INPUT"&&i==="type"){return this.type}if(typeof r!=="string"){return null}return r};l.prototype.removeAttributeNS=function e(t,i){var n=this._attributes[t];if(n){delete n[i]}};l.prototype.hasAttributeNS=function e(t,i){var n=this._attributes[t];return!!n&&i in n};l.prototype.setAttribute=function e(t,i){return this.setAttributeNS(null,t,i)};l.prototype.getAttribute=function e(t){return this.getAttributeNS(null,t)};l.prototype.removeAttribute=function e(t){return this.removeAttributeNS(null,t)};l.prototype.hasAttribute=function e(t){return this.hasAttributeNS(null,t)};l.prototype.removeEventListener=o;l.prototype.addEventListener=s;l.prototype.dispatchEvent=r;l.prototype.focus=function e(){return void 0};l.prototype.toString=function e(){return a(this)};l.prototype.getElementsByClassName=function e(t){var i=t.split(" ");var r=[];n(this,function(e){if(e.nodeType===1){var t=e.className||"";var n=t.split(" ");if(i.every(function(e){return n.indexOf(e)!==-1})){r.push(e)}}});return r};l.prototype.getElementsByTagName=function e(t){t=t.toLowerCase();var i=[];n(this.childNodes,function(e){if(e.nodeType===1&&(t==="*"||e.tagName.toLowerCase()===t)){i.push(e)}});return i};l.prototype.contains=function e(t){return n(this,function(e){return t===e})||false}},{"./event/add-event-listener.js":10,"./event/dispatch-event.js":11,"./event/remove-event-listener.js":12,"./serialize.js":14,"dom-walk":3}],7:[function(e,t,i){var n=e("./dom-element.js");t.exports=r;function r(e){if(!(this instanceof r)){return new r}this.childNodes=[];this.parentNode=null;this.ownerDocument=e||null}r.prototype.type="DocumentFragment";r.prototype.nodeType=11;r.prototype.nodeName="#document-fragment";r.prototype.appendChild=n.prototype.appendChild;r.prototype.replaceChild=n.prototype.replaceChild;r.prototype.removeChild=n.prototype.removeChild;r.prototype.toString=function e(){return this.childNodes.map(function(e){return String(e)}).join("")}},{"./dom-element.js":6}],8:[function(e,t,i){t.exports=n;function n(e,t){if(!(this instanceof n)){return new n(e)}this.data=e||"";this.length=this.data.length;this.ownerDocument=t||null}n.prototype.type="DOMTextNode";n.prototype.nodeType=3;n.prototype.nodeName="#text";n.prototype.toString=function e(){return this.data};n.prototype.replaceData=function e(t,i,n){var r=this.data;var s=r.substring(0,t);var o=r.substring(t+i,r.length);this.data=s+n+o;this.length=this.data.length}},{}],9:[function(e,t,i){t.exports=n;function n(e){}n.prototype.initEvent=function e(t,i,n){this.type=t;this.bubbles=i;this.cancelable=n};n.prototype.preventDefault=function e(){}},{}],10:[function(e,t,i){t.exports=n;function n(e,t){var i=this;if(!i.listeners){i.listeners={}}if(!i.listeners[e]){i.listeners[e]=[]}if(i.listeners[e].indexOf(t)===-1){i.listeners[e].push(t)}}},{}],11:[function(e,t,i){t.exports=n;function n(e){var t=this;var i=e.type;if(!e.target){e.target=t}if(!t.listeners){t.listeners={}}var n=t.listeners[i];if(n){return n.forEach(function(i){e.currentTarget=t;if(typeof i==="function"){i(e)}else{i.handleEvent(e)}})}if(t.parentNode){t.parentNode.dispatchEvent(e)}}},{}],12:[function(e,t,i){t.exports=n;function n(e,t){var i=this;if(!i.listeners){return}if(!i.listeners[e]){return}var n=i.listeners[e];var r=n.indexOf(t);if(r!==-1){n.splice(r,1)}}},{}],13:[function(e,t,i){var n=e("./document.js");t.exports=new n},{"./document.js":4}],14:[function(e,t,i){t.exports=r;var n=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];function r(e){switch(e.nodeType){case 3:return f(e.data);case 8:return"\x3c!--"+e.data+"--\x3e";default:return s(e)}}function s(e){var t=[];var i=e.tagName;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"){i=i.toLowerCase()}t.push("<"+i+c(e)+u(e));if(n.indexOf(i)>-1){t.push(" />")}else{t.push(">");if(e.childNodes.length){t.push.apply(t,e.childNodes.map(r))}else if(e.textContent||e.innerText){t.push(f(e.textContent||e.innerText))}else if(e.innerHTML){t.push(e.innerHTML)}t.push("</"+i+">")}return t.join("")}function o(e,t){var i=typeof e[t];if(t==="style"&&(i==="object"&&Object.keys(e.style).length>0||i==="string"&&e.style)){return true}return e.hasOwnProperty(t)&&(i==="string"||i==="boolean"&&e[t]||i==="number")&&t!=="nodeName"&&t!=="className"&&t!=="tagName"&&t!=="textContent"&&t!=="innerText"&&t!=="namespaceURI"&&t!=="innerHTML"}function a(e){if(typeof e==="string")return e;var t="";Object.keys(e).forEach(function(i){var n=e[i];i=i.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});t+=i+":"+n+";"});return t}function u(e){var t=e.dataset;var i=[];for(var n in t){i.push({name:"data-"+n,value:t[n]})}return i.length?l(i):""}function l(e){var t=[];e.forEach(function(e){var i=e.name;var n=e.value;if(i==="style"){n=a(n)}t.push(i+"="+'"'+h(n)+'"')});return t.length?" "+t.join(" "):""}function c(e){var t=[];for(var i in e){if(o(e,i)){t.push({name:i,value:e[i]})}}for(var n in e._attributes){for(var r in e._attributes[n]){var s=e._attributes[n][r];var a=(s.prefix?s.prefix+":":"")+r;t.push({name:a,value:s.value})}}if(e.className){t.push({name:"class",value:e.className})}return t.length?l(t):""}function f(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(e){return f(e).replace(/"/g,"&quot;")}},{}],15:[function(e,t,i){t.exports=e("./lib/vdt")},{"./lib/vdt":19}],16:[function(e,t,i){var n=e("./utils"),r=n.Type,s=n.TypeName;var o=/^<\w+:?\s*[\w\/>]/;function a(e){return e===58||e===95||e===45||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57}var u=function(){this.source="";this.index=0;this.length=0};u.prototype={constructor:u,parse:function(e,t){this.source=n.trimRight(e);this.index=0;this.line=1;this.column=1;this.length=this.source.length;this.options=n.extend({delimiters:n.getDelimiters()},t);return this._parseTemplate()},_parseTemplate:function(){var e=[],t={count:0};while(this.index<this.length&&t.count>=0){e.push(this._advance(t))}return e},_advance:function(e){var t=this._char();if(t!=="<"){return this._scanJS(e)}else{return this._scanJSX()}},_scanJS:function(e){var t=this.index,i=this.options.delimiters;while(this.index<this.length){var n=this._char();if(n==="'"||n==='"'){this._scanStringLiteral()}else if(this._isElementStart()){break}else{if(n==="{"){e.count++}else if(e.count>0&&n==="}"){e.count--}else if(this._isExpect(i[1])){e.count--;break}else if(n==="\n"){this._updateLine()}this._updateIndex()}}return this._type(r.JS,{value:this.source.slice(t,this.index)})},_scanStringLiteral:function(){var e=this._char(),t=this.index,i="";this._updateIndex();while(this.index<this.length){var n=this._char();if(n.charCodeAt(0)===10){this._updateLine()}this._updateIndex();if(n===e){e="";break}else if(n==="\\"){i+=this._char(this._updateIndex())}else{i+=n}}if(e!==""){this._error("Unclosed quote")}return this._type(r.StringLiteral,{value:this.source.slice(t,this.index)})},_scanJSX:function(){return this._parseJSXElement()},_scanJSXText:function(e){var t=this.index,i=e.length,n;e:while(this.index<this.length){if(this._charCode()===10){this._updateLine()}for(n=0;n<i;n++){if(typeof e[n]==="function"&&e[n].call(this)||this._isExpect(e[n])){break e}}this._updateIndex()}return this._type(r.JSXText,{value:this.source.slice(t,this.index)})},_scanJSXStringLiteral:function(){var e=this._char();if(e!=="'"&&e!=='"'){this._error("String literal must starts with a qoute")}this._updateIndex();var t=this._scanJSXText([e]);this._updateIndex();return t},_parseJSXElement:function(){this._expect("<");var e=this.index,t={},i=this._charCode();if(i>=65&&i<=90){this._type(r.JSXWidget,t)}else if(this._isExpect("!--")){return this._parseJSXComment()}else if(this._charCode(this.index+1)===58){e+=2;switch(i){case 116:this._type(r.JSXVdt,t);break;case 98:this._type(r.JSXBlock,t);break;default:this._error("Unknown directive "+String.fromCharCode(i)+":")}this._updateIndex(2)}else{this._type(r.JSXElement,t)}while(this.index<this.length){if(!a(this._charCode())){break}this._updateIndex()}t.value=this.source.slice(e,this.index);return this._parseAttributeAndChildren(t)},_parseAttributeAndChildren:function(e){var t=this._parseJSXAttribute();n.extend(e,{attributes:t.attributes,directives:t.directives,children:[]});if(!e.directives.length)delete e.directives;if(e.type===r.JSXElement&&n.isSelfClosingTag(e.value)){if(this._char()==="/"){this._updateIndex()}this._expect(">")}else if(this._char()==="/"){this._updateIndex();this._expect(">")}else{this._expect(">");e.children=this._parseJSXChildren(e)}return e},_parseJSXAttribute:function(){var e={attributes:[],directives:[]};while(this.index<this.length){this._skipWhitespace();if(this._char()==="/"||this._char()===">"){break}else{var t=this._parseJSXAttributeName();if(this._char()==="="){this._updateIndex();t.value=this._parseJSXAttributeValue()}e[t.type===r.JSXAttribute?"attributes":"directives"].push(t)}}return e},_parseJSXAttributeName:function(){var e=this.index;if(!a(this._charCode())){this._error("Unexpected identifier "+this._char())}while(this.index<this.length){var t=this._charCode();if(!a(t)){break}this._updateIndex()}var i=this.source.slice(e,this.index);if(n.isDirective(i)){return this._type(r.JSXDirective,{name:i})}return this._type(r.JSXAttribute,{name:i})},_parseJSXAttributeValue:function(){var e,t=this.options.delimiters;if(this._isExpect(t[0])){e=this._parseJSXExpressionContainer()}else{e=this._scanJSXStringLiteral()}return e},_parseJSXExpressionContainer:function(){var e,t=this.options.delimiters;this._expect(t[0]);if(this._isExpect(t[1])){e=this._parseJSXEmptyExpression()}else{e=this._parseExpression()}this._expect(t[1]);return this._type(r.JSXExpressionContainer,{value:e})},_parseJSXEmptyExpression:function(){return this._type(r.JSXEmptyExpression,{value:null})},_parseExpression:function(){return this._parseTemplate()},_parseJSXChildren:function(e){var t=[],i=e.value+">",n=null;switch(e.type){case r.JSXBlock:i="</b:"+i;break;case r.JSXVdt:i="</t:"+i;break;case r.JSXElement:default:i="</"+i;break}while(this.index<this.length){if(this._isExpect(i)){break}n=this._parseJSXChild(e,i,n);t.push(n)}this._parseJSXClosingElement();return t},_parseJSXChild:function(e,t,i){var r,s=this.options.delimiters;if(this._isExpect(s[0])){r=this._parseJSXExpressionContainer()}else if(n.isTextTag(e.value)){r=this._scanJSXText([t,s[0]])}else if(this._isElementStart()){r=this._parseJSXElement()}else{r=this._scanJSXText([function(){return this._isExpect(t)||this._isElementStart()},s[0]])}r.prev=undefined;r.next=undefined;if(i){i.next=r;r.prev=i}return r},_parseJSXClosingElement:function(){this._expect("</");while(this.index<this.length){if(!a(this._charCode())){break}this._updateIndex()}this._skipWhitespace();this._expect(">")},_parseJSXComment:function(){this._expect("!--");var e=this.index;while(this.index<this.length){if(this._isExpect("--\x3e")){break}else if(this._charCode()===10){this._updateLine()}this._updateIndex()}var t=this._type(r.JSXComment,{value:this.source.slice(e,this.index)});this._expect("--\x3e");return t},_char:function(e){arguments.length===0&&(e=this.index);return this.source.charAt(e)},_charCode:function(e){arguments.length===0&&(e=this.index);return this.source.charCodeAt(e)},_skipWhitespace:function(){while(this.index<this.length){var e=this._charCode();if(!n.isWhiteSpace(e)){break}else if(e===10){this._updateLine()}this._updateIndex()}},_expect:function(e){if(!this._isExpect(e)){this._error("expect string "+e)}this._updateIndex(e.length)},_isExpect:function(e){return this.source.slice(this.index,this.index+e.length)===e},_isElementStart:function(){return this._char()==="<"&&(this._isExpect("\x3c!--")||o.test(this.source.slice(this.index)))},_type:function(e,t){t||(t={});t.type=e;t.typeName=s[e];t.line=this.line;t.column=this.column;return t},_updateLine:function(){this.line++;this.column=0},_updateIndex:function(e){e===undefined&&(e=1);var t=this.index;this.index=this.index+e;this.column=this.column+e;return t},_error:function(e){throw new Error(e+" At: {line: "+this.line+", column: "+this.column+'} Near: "'+this.source.slice(this.index-10,this.index+20)+'"')}};t.exports=u},{"./utils":18}],17:[function(e,t,i){var n=e("./utils"),r=n.Type,s=n.TypeName,o=function(){var e={class:"className",for:"htmlFor"};return function(t){return e[t]||t}}();var a=function(){};a.prototype={constructor:a,stringify:function(e,t){if(arguments.length===1){t=true}this.autoReturn=!!t;this.enterStringExpression=false;return this._visitJSXExpressionContainer(e,true)},_visitJSXExpressionContainer:function(e,t){var i="",r=e.length;n.each(e,function(e,n){if(this.autoReturn&&t&&n===r-1){i+="return "+this._visit(e,t)}else{i+=this._visit(e,t)}},this);if(!t&&!this.enterStringExpression){i="function() {try {return ["+i+"][0]} catch(e) {_e(e)}}.call(this)"}return i},_visit:function(e,t){e=e||{};switch(e.type){case r.JS:return this._visitJS(e,t);case r.JSXElement:return this._visitJSX(e);case r.JSXText:return this._visitJSXText(e);case r.JSXExpressionContainer:return this._visitJSXExpressionContainer(e.value);case r.JSXWidget:return this._visitJSXWidget(e);case r.JSXBlock:return this._visitJSXBlock(e);case r.JSXVdt:return this._visitJSXVdt(e,t);case r.JSXComment:return this._visitJSXComment(e);default:return"null"}},_visitJS:function(e){return this.enterStringExpression?"("+e.value+")":e.value},_visitJSX:function(e){if(e.value==="script"||e.value==="style"){if(e.children.length){e.attributes.push({type:r.JSXAttribute,typeName:s[r.JSXAttribute],name:"innerHTML",value:{type:r.JS,typeName:s[r.JS],value:this._visitJSXChildrenAsString(e.children)}});e.children=[]}}return this._visitJSXDirective(e,this._visitJSXElement(e))},_visitJSXElement:function(e){return"h('"+e.value+"',"+this._visitJSXAttribute(e.attributes)+", "+this._visitJSXChildren(e.children)+")"},_visitJSXChildren:function(e){var t=[];n.each(e,function(e){if(e._skip)return;t.push(this._visit(e))},this);return"["+t.join(", ")+"]"},_visitJSXDirective:function(e,t){var i={data:null,value:"value",key:"key"};n.each(e.directives,function(n){switch(n.name){case"v-if":t=this._visitJSXDirectiveIf(n,t,e);break;case"v-else-if":case"v-else":
if(e._skip)break;throw new Error(n.name+" must be led with v-if. At: {line: "+e.line+", column: "+e.column+"}");case"v-for":i.data=this._visitJSXAttributeValue(n.value);break;case"v-for-value":i.value=this._visitJSXText(n.value,true);break;case"v-for-key":i.key=this._visitJSXText(n.value,true);break;default:break}},this);if(i.data){t=this._visitJSXDirectiveFor(i,t)}return t},_visitJSXDirectiveIf:function(e,t,i){var r=this._visitJSXAttributeValue(e.value)+" ? "+t+" : ",s=false,o=i,a=[],u=function(){n.each(a,function(e){e._skip=true});a=[]};while(o=o.next){if(o.type===n.Type.JSXText){if(!/^\s*$/.test(o.value))break;else a.push(o)}else if(o.type===n.Type.JSXElement||o.type===n.Type.JSXWidget){if(!o.directives||!o.directives.length)break;var l=false;for(var c=0,f=o.directives.length;c<f;c++){var h=o.directives[c],p=h.name;if(p==="v-else-if"){o._skip=true;r+=this._visitJSXAttributeValue(h.value)+" ? "+this._visit(o)+" : ";l=true;u();break}else if(p==="v-else"){o._skip=true;r+=this._visit(o);s=true;u();break}}if(!l)break}}if(!s)r+="undefined";return r},_visitJSXDirectiveFor:function(e,t){return"_Vdt.utils.map("+e.data+", function("+e.value+", "+e.key+") {\n"+"return "+t+";\n"+"}, this)"},_visitJSXChildrenAsString:function(e){var t=[];this.enterStringExpression=true;n.each(e,function(e){t.push(this._visit(e))},this);this.enterStringExpression=false;return t.join("+")},_visitJSXAttribute:function(e){var t=[];n.each(e,function(e){var i=o(e.name),n=this._visitJSXAttributeValue(e.value);if(i==="widget"&&e.value.type===r.JSXText){i="ref";n="function(i) {widgets."+n+" = i}"}else if(i==="className"&&e.value.type===r.JSXExpressionContainer){n="_Vdt.utils.className("+n+")"}t.push("'"+i+"': "+n)},this);return t.length?"{"+t.join(", ")+"}":"null"},_visitJSXAttributeValue:function(e){return n.isArray(e)?this._visitJSXChildren(e):this._visit(e)},_visitJSXText:function(e,t){var i=e.value.replace(/([\'\"\\])/g,"\\$1").replace(/[\r\n]/g,"\\n");if(!t){i="'"+i+"'"}return i},_visitJSXWidget:function(e){e.attributes.push({name:"children",value:e.children});return this._visitJSXDirective(e,"h("+e.value+", "+this._visitJSXAttribute(e.attributes)+")")},_visitJSXBlock:function(e,t){arguments.length===1&&(t=true);return"(_blocks."+e.value+" = function(parent) {return "+this._visitJSXChildren(e.children)+";}) && (__blocks."+e.value+" = function(parent) {\n"+"var self = this;\n"+"return blocks."+e.value+" ? blocks."+e.value+".call(this, function() {\n"+"return _blocks."+e.value+".call(self, parent);\n"+"}) : _blocks."+e.value+".call(this, parent);\n"+"})"+(t?" && __blocks."+e.value+".call(this)":"")},_visitJSXVdt:function(e,t){var i=["(function(blocks) {","var _blocks = {}, __blocks = extend({}, blocks), _obj = "+this._visitJSXAttribute(e.attributes)+" || {};",'if (_obj.hasOwnProperty("arguments")) { extend(_obj, _obj.arguments === null ? obj : _obj.arguments); delete _obj.arguments; }',"return "+e.value+".call(this, _obj, _Vdt, "].join("\n"),s=[];n.each(e.children,function(e){if(e.type===r.JSXBlock){s.push(this._visitJSXBlock(e,false))}},this);i+=(s.length?s.join(" && ")+" && __blocks)":"__blocks)")+"}).call(this, "+(t?"blocks)":"{})");return i},_visitJSXComment:function(e){return"hc("+this._visitJSXText(e)+")"}};t.exports=a},{"./utils":18}],18:[function(e,t,i){var n=0,r={JS:n++,JSXText:n++,JSXElement:n++,JSXExpressionContainer:n++,JSXAttribute:n++,JSXEmptyExpression:n++,JSXWidget:n++,JSXVdt:n++,JSXBlock:n++,JSXComment:n++,JSXDirective:n++},s=[],o={area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,menuitem:true,meta:true,param:true,source:true,track:true,wbr:true},a={style:true,script:true,textarea:true},u={"v-if":true,"v-else-if":true,"v-else":true,"v-for":true,"v-for-value":true,"v-for-key":true},l=["{","}"];var c=Object.prototype.hasOwnProperty,f=function(){};(function(){for(var e in r){if(c.call(r,e)){s[r[e]]=e}}})();function h(e){if(e==null)return false;var t=e.length;return typeof t==="number"&&t>-1&&t%1===0&&t<=9007199254740991&&typeof e!=="function"}function p(e,t,i){if(h(e)){for(var n=0,r=e.length;n<r;n++){t.call(i,e[n],n,e)}}else if(d(e)){for(var s in e){if(c.call(e,s)){t.call(i,e[s],s,e)}}}}function d(e){var t=typeof e;return t==="function"||t==="object"&&!!e}var v={each:p,map:function(e,t,i){var n=[];p(e,function(e,r,s){n.push(t.call(i,e,r,s))});return n},className:function(e){if(e==null)return;if(typeof e==="string")return e;var t=[];for(var i in e){if(c.call(e,i)&&e[i]){t.push(i)}}return t.join(" ")},isObject:d,isWhiteSpace:function(e){return e<=160&&(e>=9&&e<=13)||e==32||e==160||e==5760||e==6158||e>=8192&&(e<=8202||e==8232||e==8233||e==8239||e==8287||e==12288||e==65279)},trimRight:function(e){var t=e.length;while(t--&&v.isWhiteSpace(e.charCodeAt(t))){}return e.slice(0,t+1)},trimLeft:function(e){var t=e.length,i=-1;while(i++<t&&v.isWhiteSpace(e.charCodeAt(i))){}return e.slice(i)},Type:r,TypeName:s,setDelimiters:function(e){if(!v.isArray(e)){throw new Error('The parameter must be an array like ["{{", "}}"]')}l=e},getDelimiters:function(){return l},isSelfClosingTag:function(e){return o[e]},isTextTag:function(e){return a[e]},isDirective:function(e){return c.call(u,e)},extend:function(e,t){var i=arguments.length;if(i>1){for(var n=1;n<i;n++){t=arguments[n];if(t){for(var r in t){if(c.call(t,r)){e[r]=t[r]}}}}}return e},isArray:Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},noop:f,require:e("./compile"),error:function(){var e=typeof console!=="undefined";return e?function(e){console.error(e)}:f}()};t.exports=v},{"./compile":19}],19:[function(e,t,i){var n=new(e("./parser")),r=new(e("./stringifier")),s=e("miss"),o=e("./utils");var a=function(e,t){var i={render:function(e){i.renderTree.apply(i,arguments);i.node=s.render(i.tree);return i.node},renderTree:function(e){if(arguments.length){i.data=e}i.data.vdt=i;i.tree=i.template.call(i,i.data,a);return i.tree},renderString:function(e){var t=i.render.apply(i,arguments);return t.outerHTML||t.toString()},update:function(e){var t=i.tree;i.renderTree.apply(i,arguments);i.node=s.patch(t,i.tree);return i.node},data:{},tree:{},patches:{},widgets:{},node:null,template:u(e,t),getTree:function(){return i.tree},setTree:function(e){i.tree=e},getNode:function(){return i.node},setNode:function(e){i.node=e}};return i};function u(e,t){var i;if(t===true||t===false){t={autoReturn:t}}t=o.extend({autoReturn:true,onlySource:false,delimiters:o.getDelimiters(),noWith:false,server:false},t);switch(typeof e){case"string":var s=n.parse(e,{delimiters:t.delimiters}),a=r.stringify(s,t.autoReturn);a=["_Vdt || (_Vdt = Vdt);","obj || (obj = {});","blocks || (blocks = {});","var h = _Vdt.miss.h, hc = _Vdt.miss.hc, widgets = this && this.widgets || {}, _blocks = {}, __blocks = {},","extend = _Vdt.utils.extend, _e = _Vdt.utils.error,"+(t.server?'require = function(file) { return _Vdt.utils.require(file, "'+t.filename.replace(/\\/g,"\\\\")+'") }, ':"")+"self = this.data, scope = obj;",t.noWith?a:["with (obj) {",a,"}"].join("\n")].join("\n");i=t.onlySource?function(){}:new Function("obj","_Vdt","blocks",a);i.source="function(obj, _Vdt, blocks) {\n"+a+"\n}";break;case"function":i=e;break;default:throw new Error("Expect a string or function")}return i}a.parser=n;a.stringifier=r;a.miss=s;a.compile=u;a.utils=o;a.setDelimiters=o.setDelimiters;a.getDelimiters=o.getDelimiters;a.virtualDom=s;t.exports=a},{"./parser":16,"./stringifier":17,"./utils":18,miss:2}]},{},[15])(15)});